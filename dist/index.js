!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("braft-utils"),require("draft-js"),require("braft-finder"),require("react-dom"),require("immutable"));else if("function"==typeof define&&define.amd)define(["react","braft-utils","draft-js","braft-finder","react-dom","immutable"],t);else{var n="object"==typeof exports?t(require("react"),require("braft-utils"),require("draft-js"),require("braft-finder"),require("react-dom"),require("immutable")):t(e.react,e["braft-utils"],e["draft-js"],e["braft-finder"],e["react-dom"],e.immutable);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(e,t,n,o,r,a){return function(e){function t(t){for(var n,r,a=t[0],l=t[1],i=0,c=[];i<a.length;i++)r=a[i],o[r]&&c.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(s&&s(t);c.length;)c.shift()()}var n={},o={0:0};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var i=0;i<a.length;i++)t(a[i]);var s=l;return r(r.s=41)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(51);var r=i(n(0)),a=i(n(19)),l=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.alive=!1,o.responsiveResolveId=null,o.dropDownHandlerElement=null,o.dropDownContentElement=null,o.componentId=o.props.componentId||"BRAFT-DROPDOWN-"+l.BaseUtils.UniqueIndex(),o.state={active:!1,offset:0},s(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.alive=!0,document.body.addEventListener("click",function(t){e.registerClickEvent(t)}),this.responsiveResolveId=a.default.resolve(function(){e.fixDropDownPosition()})}},{key:"componentWillReceiveProps",value:function(e){!this.props.disabled&&e.disabled&&this.hide()}},{key:"componentDidUpdate",value:function(e){!e.active&&this.state.active&&this.fixDropDownPosition()}},{key:"componentWillUnmount",value:function(){var e=this;document.body.removeEventListener("click",function(t){e.registerClickEvent(t)}),this.alive=!1,a.default.unresolve(this.responsiveResolveId)}},{key:"render",value:function(){var e=this,t=this.state,n=t.active,o=t.offset,a=this.props,l=a.caption,i=a.htmlCaption,s=a.hoverTitle,c=a.disabled,u=a.showDropDownArrow,d=a.arrowActive,f=a.className,p=a.children,m=a.editorHeight;c&&(n=!1);var h=!isNaN(m)&&m>0?{maxHeight:m-30+"px"}:{};return r.default.createElement("div",{id:this.componentId,className:"Braft-dropdown "+(n?"active ":"")+(c?"disabled ":"")+f},i?r.default.createElement("button",{type:"button",className:"dropdown-handler",title:s,"data-braft-component-id":this.componentId,dangerouslySetInnerHTML:i?{__html:i}:null,ref:function(t){return e.dropDownHandlerElement=t}}):r.default.createElement("button",{type:"button",className:"dropdown-handler",title:s,"data-braft-component-id":this.componentId,ref:function(t){return e.dropDownHandlerElement=t}},r.default.createElement("span",null,l),!1!==u?r.default.createElement("i",{className:"braft-icon-drop-down"}):null),r.default.createElement("div",{className:"dropdown-content",style:{marginLeft:o+"px"},ref:function(t){return e.dropDownContentElement=t}},r.default.createElement("i",{style:{marginLeft:-1*o},className:"dropdown-arrow"+(d?" active":"")}),r.default.createElement("div",{className:"dropdown-content-inner",style:h},p)))}},{key:"fixDropDownPosition",value:function(){var e=this.props.containerNode.getBoundingClientRect(),t=this.dropDownHandlerElement.getBoundingClientRect(),n=this.dropDownContentElement.getBoundingClientRect(),o=0,r=t.right-t.width/2+n.width/2,a=t.left+t.width/2-n.width/2;r=e.right-r,a-=e.left,r<10?o=r-10:a<10&&(o=-1*a+10),o!==this.state.offset&&this.setState({offset:o})}},{key:"registerClickEvent",value:function(e){var t=this.props.autoHide,n=!1;e.target.dataset.braftComponentId===this.componentId?n=!!e.target.dataset.keepActive||!this.state.active:!1===t&&(n=this.state.active),this.alive&&this.setState({active:n})}},{key:"show",value:function(){this.setState({active:!0})}},{key:"hide",value:function(){this.setState({active:!1})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showModal=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(57);var a=s(n(0)),l=s(n(29)),i=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleTransitionEnd=function(){if(!n.rootElement||!n.rootElement.classList)return!1;n.rootElement.classList.contains("active")||l.default.unmountComponentAtNode(n.rootElement)&&n.rootElement.parentNode.removeChild(n.rootElement)},n.handleCancel=function(){n.props.closeOnCancel&&n.close(),n.props.onCancel&&n.props.onCancel()},n.handleConfirm=function(){n.props.closeOnConfirm&&n.close(),n.props.onConfirm&&n.props.onConfirm()},n.close=function(){n.unrenderComponent(),n.props.onClose&&n.props.onClose()},n.active=!1,n.componentId="BRAFT-MODAL-"+i.BaseUtils.UniqueIndex(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.visible&&(this.active=!0,this.renderComponent(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.props.visible&&!e.visible?this.unrenderComponent():(this.props.visible||e.visible)&&(this.active=!0,this.renderComponent(e))}},{key:"render",value:function(){return null}},{key:"unrenderComponent",value:function(){this.active=!1,this.activeId&&window.clearImmediate(this.activeId),this.rootElement&&this.rootElement.classList&&this.rootElement.classList.remove("active")}},{key:"renderComponent",value:function(e){var t=this;if(!this.active)return!1;var n=e.title,o=e.className,r=e.width,i=e.height,s=e.children,c=e.confirmable,u=(e.showHeader,e.showFooter),d=e.showCancel,f=e.showConfirm,p=e.showClose,m=e.cancelText,h=e.confirmText,y=e.bottomText,b=e.language;void 0===d&&(d=!0),void 0===p&&(p=!0),void 0===f&&(f=!0);var g=a.default.createElement("div",{className:"braft-modal "+(o||"")},a.default.createElement("div",{className:"braft-modal-mask"}),a.default.createElement("div",{onTransitionEnd:this.handleTransitionEnd,style:{width:r,height:i},className:"braft-modal-content"},a.default.createElement("div",{className:"braft-modal-header"},a.default.createElement("h3",{className:"braft-modal-caption"},n),p&&a.default.createElement("button",{type:"button",onClick:this.close,className:"braft-modal-close-button"},a.default.createElement("i",{className:"braft-icon-close"}))),a.default.createElement("div",{className:"braft-modal-body"},s),u?a.default.createElement("div",{className:"braft-modal-footer"},a.default.createElement("div",{className:"braft-modal-addon-text"},y),a.default.createElement("div",{className:"braft-modal-buttons"},d&&a.default.createElement("button",{type:"button",onClick:this.handleCancel,className:"braft-modal-cancel"},m||b.base.cancel),f&&a.default.createElement("button",{type:"button",onClick:this.handleConfirm,className:"braft-modal-confirm "+(c?"":"disabled")},h||b.base.confirm))):null));this.rootElement=document.querySelector("#"+this.componentId),this.rootElement||(this.rootElement=document.createElement("div"),this.rootElement.id=this.componentId,this.rootElement.className="braft-modal-root",document.body.appendChild(this.rootElement)),l.default.render(g,this.rootElement),this.activeId=window.setImmediate(function(){t.rootElement.classList.add("active")})}}]),t}();c.defaultProps={showHeader:!0,showFooter:!0},t.default=c;t.showModal=function(e){var t=document.createElement("div");t.style.display="none",document.body.appendChild(t);var n=function(){l.default.unmountComponentAtNode(t)&&t.parentNode.removeChild(t)},r={onConfirm:function(){n(),e.onConfirm&&e.onConfirm()},onCancel:function(){n(),e.onCancel&&e.onCancel()},onClose:function(){n(),e.onClose&&e.onClose()},visible:!0,closeOnConfirm:!0,closeOnCancel:!0},i=l.default.render(a.default.createElement(c,o({},e,r)),t);return i.destroy=n,i.update=i.renderComponent,i}},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageControlItems=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){return[{key:"undo",title:e.controls.undo,text:o.default.createElement("i",{className:"braft-icon-undo"}),type:"editor-method",command:"undo"},{key:"redo",title:e.controls.redo,text:o.default.createElement("i",{className:"braft-icon-redo"}),type:"editor-method",command:"redo"},{key:"remove-styles",title:e.controls.removeStyles,text:o.default.createElement("i",{className:"braft-icon-format_clear"}),type:"editor-method",command:"removeSelectionInlineStyles"},{key:"hr",title:e.controls.hr,text:o.default.createElement("i",{className:"braft-icon-hr"}),type:"editor-method",command:"insertHorizontalLine"},{key:"bold",title:e.controls.bold,text:o.default.createElement("i",{className:"braft-icon-bold"}),type:"inline-style",command:"bold"},{key:"italic",title:e.controls.italic,text:o.default.createElement("i",{className:"braft-icon-italic"}),type:"inline-style",command:"italic"},{key:"underline",title:e.controls.underline,text:o.default.createElement("i",{className:"braft-icon-underlined"}),type:"inline-style",command:"underline"},{key:"strike-through",title:e.controls.strikeThrough,text:o.default.createElement("i",{className:"braft-icon-strikethrough"}),type:"inline-style",command:"strikethrough"},{key:"superscript",title:e.controls.superScript,text:o.default.createElement("i",{className:"braft-icon-superscript"}),type:"inline-style",command:"superscript"},{key:"subscript",title:e.controls.subScript,text:o.default.createElement("i",{className:"braft-icon-subscript"}),type:"inline-style",command:"subscript"},{key:"headings",title:e.controls.headings,type:"headings"},{key:"blockquote",title:e.controls.blockQuote,text:o.default.createElement("i",{className:"braft-icon-quote"}),type:"block-type",command:"blockquote"},{key:"code",title:e.controls.code,text:o.default.createElement("i",{className:"braft-icon-code"}),type:"block-type",command:"code-block"},{key:"list_ul",title:e.controls.unorderedList,text:o.default.createElement("i",{className:"braft-icon-list"}),type:"block-type",command:"unordered-list-item"},{key:"list_ol",title:e.controls.orderedList,text:o.default.createElement("i",{className:"braft-icon-list-numbered"}),type:"block-type",command:"ordered-list-item"},{key:"link",title:e.controls.link,type:"link"},{key:"text-color",title:e.controls.color,type:"text-color"},{key:"line-height",title:e.controls.lineHeight,type:"line-height"},{key:"letter-spacing",title:e.controls.letterSpacing,type:"letter-spacing"},{key:"text-indent",title:e.controls.textIndent,type:"text-indent"},{key:"font-size",title:e.controls.fontSize,type:"font-size"},{key:"font-family",title:e.controls.fontFamily,type:"font-family"},{key:"text-align",title:e.controls.textAlign,type:"text-align"},{key:"media",title:e.controls.media,text:o.default.createElement("i",{className:"braft-icon-media"}),type:"media"},{key:"emoji",title:e.controls.emoji,text:o.default.createElement("i",{className:"braft-icon-emoji"}),type:"emoji"},{key:"clear",title:e.controls.clear,text:o.default.createElement("span",{className:"braft-control-text"},e.controls.clear),type:"editor-method",command:"clearEditorContent"}]};t.imageControlItems={"float-left":{text:o.default.createElement("span",{"data-float":"left"},""),command:"setImageFloat|left"},"float-right":{text:o.default.createElement("span",{"data-float":"right"},""),command:"setImageFloat|right"},"align-left":{text:o.default.createElement("span",{"data-align":"left"},""),command:"setImageAlignment|left"},"align-center":{text:o.default.createElement("span",{"data-align":"center"},""),command:"setImageAlignment|center"},"align-right":{text:o.default.createElement("span",{"data-align":"right"},""),command:"setImageAlignment|right"},size:{text:o.default.createElement("span",null,""),command:"toggleSizeEditor"},link:{text:o.default.createElement("span",null,""),command:"toggleLinkEditor"},remove:{text:o.default.createElement("span",null,""),command:"removeImage"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(59);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.active,n=e.onClick,r=e.className;return o.default.createElement("div",{onClick:function(){return n()},className:"switch-button "+r+(t?" active":"")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(42);var o=l(n(0)),r=l(n(2)),a=n(1);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=null,n=null;return e.textIndents.find(function(o){return!!a.ContentUtils.selectionHasInlineStyle(e.editorState,"INDENT-"+o)&&(t=o,n=o,!0)}),o.default.createElement(r.default,{caption:t||e.defaultCaption,containerNode:e.containerNode,editorHeight:e.editorHeight,hoverTitle:e.language.controls.textIndent,className:"control-item dropdown braft-indent-dropdown"},o.default.createElement("ul",{className:"braft-text-indents-wrap"},e.textIndents.map(function(t,r){return o.default.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){e.editor.setValue(a.ContentUtils.toggleSelectionIndent(e.editorState,t.currentTarget.dataset.size,e.textIndents)),e.editor.requestFocus()}},t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(43);var o=l(n(0)),r=l(n(2)),a=n(1);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=null,n=null;return e.letterSpacings.find(function(o){return!!a.ContentUtils.selectionHasInlineStyle(e.editorState,"LETTERSPACING-"+o)&&(t=o,n=o,!0)}),o.default.createElement(r.default,{caption:t||e.defaultCaption,containerNode:e.containerNode,editorHeight:e.editorHeight,hoverTitle:e.language.controls.letterSpacing,className:"control-item dropdown braft-letter-spacing-dropdown"},o.default.createElement("ul",{className:"braft-letter-spacings-wrap"},e.letterSpacings.map(function(t,r){return o.default.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){e.editor.setValue(a.ContentUtils.toggleSelectionLetterSpacing(e.editorState,t.currentTarget.dataset.size,e.letterSpacings)),e.editor.requestFocus()}},t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44);var o=l(n(0)),r=l(n(2)),a=n(1);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(r.default,{caption:e.defaultCaption,showDropDownArrow:!1,containerNode:e.containerNode,editorHeight:e.editorHeight,hoverTitle:e.language.controls.emoji,className:"control-item dropdown braft-emoji-dropdown"},o.default.createElement("div",{className:"braft-emojis-wrap"},o.default.createElement("ul",{className:"braft-emojis"},e.emojis.map(function(t,n){return o.default.createElement("li",{key:n,"data-emoji":t,onClick:function(t){e.editor.setValue(a.ContentUtils.insertText(e.editorState,t.currentTarget.dataset.emoji)),e.editor.requestFocus()}},t)}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(1);function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={currentAlignment:void 0},o.setAlignment=function(e){o.props.editor.setValue(a.ContentUtils.toggleSelectionAlignment(o.props.editorState,e.currentTarget.dataset.alignment)),o.props.editor.requestFocus()},l(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentAlignment:a.ContentUtils.getSelectionBlockData(e.editorState,"textAlign")})}},{key:"render",value:function(){var e=this,t=[this.props.language.controls.alignLeft,this.props.language.controls.alignCenter,this.props.language.controls.alignRight,this.props.language.controls.alignJustify];return r.default.createElement("div",{className:"control-item-group"},this.props.textAligns.map(function(n,o){return r.default.createElement("button",{type:"button",key:o,title:t[o],"data-alignment":n,className:"control-item button "+(n===e.state.currentAlignment?"active":null),onClick:e.setAlignment},r.default.createElement("i",{className:"braft-icon-align-"+n}))}))}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(45);var o=l(n(0)),r=l(n(2)),a=n(1);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=null,n=null;return e.fontFamilies.find(function(o,r){return!!a.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTFAMILY-"+o.name)&&(t=o.name,n=r,!0)}),o.default.createElement(r.default,{caption:t||e.defaultCaption,containerNode:e.containerNode,editorHeight:e.editorHeight,hoverTitle:e.language.controls.fontFamily,arrowActive:0===n,className:"control-item dropdown font-family-dropdown"},o.default.createElement("ul",{className:"menu"},e.fontFamilies.map(function(t,r){return o.default.createElement("li",{key:r,className:"menu-item "+(r===n?"active":""),"data-name":t.name,onClick:function(t){e.editor.setValue(a.ContentUtils.toggleSelectionFontFamily(e.editorState,t.currentTarget.dataset.name,e.fontFamilies)),e.editor.requestFocus()}},o.default.createElement("span",{style:{fontFamily:t.family}},t.name))})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(46);var o=l(n(0)),r=l(n(2)),a=n(1);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=null,n=null;return e.lineHeights.find(function(o){return!!a.ContentUtils.selectionHasInlineStyle(e.editorState,"LINEHEIGHT-"+o)&&(t=o,n=o,!0)}),o.default.createElement(r.default,{caption:t||e.defaultCaption,containerNode:e.containerNode,editorHeight:e.editorHeight,hoverTitle:e.language.controls.lineHeight,className:"control-item dropdown braft-line-height-dropdown"},o.default.createElement("ul",{className:"braft-line-heights-wrap"},e.lineHeights.map(function(t,r){return o.default.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){e.editor.setValue(a.ContentUtils.toggleSelectionLineHeight(e.editorState,t.currentTarget.dataset.size,e.lineHeights)),e.editor.requestFocus()}},t)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(47);var o=l(n(0)),r=l(n(2)),a=n(1);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=null,n=null;return e.fontSizes.find(function(o){return!!a.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTSIZE-"+o)&&(t=o+"px",n=o,!0)}),o.default.createElement(r.default,{caption:t||e.defaultCaption,editorHeight:e.editorHeight,containerNode:e.containerNode,hoverTitle:e.language.controls.fontSize,className:"control-item dropdown braft-font-size-dropdown"},o.default.createElement("ul",{className:"braft-font-sizes-wrap"},e.fontSizes.map(function(t,r){return o.default.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){e.editor.setValue(a.ContentUtils.toggleSelectionFontSize(e.editorState,t.currentTarget.dataset.size,e.fontSizes)),e.editor.requestFocus()}},t+"px")})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(48);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.current,n=e.colors;e.onChange,e.language;return o.default.createElement("div",{className:"braft-color-list-wrap"},o.default.createElement("ul",{className:"braft-color-list"},n.map(function(n,r){var a=n===t?"color-item active":"color-item";return o.default.createElement("li",{key:r,title:n,className:a,style:{color:n},"data-color":n.replace("#",""),onClick:function(t){return e.onChange(t.currentTarget.dataset.color)}})})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(49);var r=s(n(0)),a=s(n(2)),l=s(n(15)),i=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=o=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={colorType:"color"},o.dropDownComponentId="BRAFT-DROPDOWN-"+i.BaseUtils.UniqueIndex(),o.switchColorType=function(e){o.setState({colorType:e.currentTarget.dataset.type})},o.toggleColor=function(e){"color"===o.state.colorType?o.props.editor.setValue(i.ContentUtils.toggleSelectionColor(o.props.editorState,e,o.props.colors)):o.props.editor.setValue(i.ContentUtils.toggleSelectionBackgroundColor(o.props.editorState,e,o.props.colors)),o.dropDownComponent.hide(),o.props.editor.requestFocus()},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"render",value:function(){var e=this,t={},n=null,o=this.state.colorType;this.props.colors.forEach(function(r){var a=r.replace("#","");i.ContentUtils.selectionHasInlineStyle(e.props.editorState,"COLOR-"+a)&&(t.color=r,"color"===o&&(n=r)),i.ContentUtils.selectionHasInlineStyle(e.props.editorState,"BGCOLOR-"+a)&&(t.backgroundColor=r,"backgroundColor"===o&&(n=r))});var s=r.default.createElement("i",{style:t,className:"braft-icon-text-color"},r.default.createElement("span",{className:"path1"}),r.default.createElement("span",{className:"path2"}));return r.default.createElement(a.default,{caption:s,hoverTitle:this.props.language.controls.color,showDropDownArrow:!1,containerNode:this.props.containerNode,editorHeight:this.props.editorHeight,componentId:this.dropDownComponentId,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown text-color-dropdown"},r.default.createElement("div",{className:"braft-text-color-picker-wrap"},r.default.createElement("div",{className:"braft-color-switch-buttons",style:this.props.enableBackgroundColor?{}:{display:"none"}},r.default.createElement("button",{type:"button","data-type":"color","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"color"===o?"active":"",onClick:this.switchColorType},this.props.language.controls.textColor),r.default.createElement("button",{type:"button","data-type":"backgroundColor","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"backgroundColor"===o?"active":"",onClick:this.switchColorType},this.props.language.controls.backgroundColor)),r.default.createElement(l.default,{width:200,language:this.props.language,current:n,disableAlpha:!0,colors:this.props.colors,onChange:this.toggleColor})))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blocks=t.getHeadings=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.getHeadings=function(e){return[{key:"header-one",title:e.controls.header+" 1",text:o.default.createElement("h1",null,e.controls.header," 1"),type:"block-type",command:"header-one"},{key:"header-two",title:e.controls.header+" 2",text:o.default.createElement("h2",null,e.controls.header," 2"),type:"block-type",command:"header-two"},{key:"header-three",title:e.controls.header+" 3",text:o.default.createElement("h3",null,e.controls.header," 3"),type:"block-type",command:"header-three"},{key:"header-four",title:e.controls.header+" 4",text:o.default.createElement("h4",null,e.controls.header," 4"),type:"block-type",command:"header-four"},{key:"header-five",title:e.controls.header+" 5",text:o.default.createElement("h5",null,e.controls.header," 5"),type:"block-type",command:"header-five"},{key:"header-six",title:e.controls.header+" 6",text:o.default.createElement("h6",null,e.controls.header," 6"),type:"block-type",command:"header-six"},{key:"unstyled",title:e.controls.normal,text:e.controls.normal,type:"block-type",command:"unstyled"}]},t.blocks={"header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-fiv":"h5","header-six":"h6",unstyled:"p",blockquote:"blockquote"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(50);var o=l(n(0)),r=n(17),a=l(n(2));n(1);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=(0,r.getHeadings)(e.language),n=t.findIndex(function(t){return t.command===e.current}),l=t[n]?t[n].title:e.language.controls.normal;return o.default.createElement(a.default,{caption:l,containerNode:e.containerNode,editorHeight:e.editorHeight,hoverTitle:e.language.controls.headings,arrowActive:0===n,className:"control-item dropdown headings-dropdown"},o.default.createElement("ul",{className:"menu"},t.map(function(t,n){var r=e.current===t.command;return o.default.createElement("li",{key:n,className:"menu-item"+(r?" active":""),onClick:function(){return e.onChange(t.command,t.type)}},t.text)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=[],a=!1,l=!1;t.default={resolve:function(e){var t=o.BaseUtils.UniqueIndex();return r.push({id:t,eventHandler:e}),t},unresolve:function(e){r=r.filter(function(t){return t.id!==e})}},a||(window.addEventListener("resize",function(e){clearTimeout(l),l=setTimeout(function(){r.map(function(t){"function"==typeof t.eventHandler&&t.eventHandler(e)}),l=!1},100)}),a=!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(52);var r=s(n(0)),a=s(n(7)),l=s(n(2)),i=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=o=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={href:"",target:""},o.dropDownComponent=null,o.handeKeyDown=function(e){if(13===e.keyCode)return o.handleConfirm(),e.preventDefault(),!1},o.inputLink=function(e){o.setState({href:e.currentTarget.value})},o.setTarget=function(){o.setState({target:"_blank"===o.state.target?"":"_blank"})},o.handleCancel=function(){o.dropDownComponent.hide()},o.handleUnlink=function(){o.dropDownComponent.hide(),o.props.editor.setValue(i.ContentUtils.toggleSelectionLink(o.props.editorState,!1))},o.handleConfirm=function(){var e=o.state,t=e.href,n=e.target;o.props.editor.setValue(i.ContentUtils.toggleSelectionLink(o.props.editorState,t,n)),o.dropDownComponent.hide(),o.props.editor.requestFocus()},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){var t=i.ContentUtils.getSelectionEntityData(e.editorState,"LINK"),n=t.href,o=t.target;this.setState({href:n||"",target:o||""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.href,o=t.target,s=r.default.createElement("i",{className:"braft-icon-link"}),c=!i.ContentUtils.isSelectionCollapsed(this.props.editorState)&&"atomic"!==i.ContentUtils.getSelectionBlockType(this.props.editorState);return r.default.createElement("div",{className:"control-item-group"},r.default.createElement(l.default,{caption:s,hoverTitle:this.props.language.controls.link,autoHide:!1,containerNode:this.props.containerNode,showDropDownArrow:!1,disabled:!c,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown link-editor-dropdown"},r.default.createElement("div",{className:"braft-link-editor"},r.default.createElement("div",{className:"input-group"},r.default.createElement("input",{type:"text",value:n,spellCheck:!1,placeholder:this.props.language.linkEditor.inputPlaceHolder,onKeyDown:this.handeKeyDown,onChange:this.inputLink})),r.default.createElement("div",{className:"switch-group"},r.default.createElement(a.default,{active:"_blank"===o,onClick:this.setTarget}),r.default.createElement("label",null,this.props.language.linkEditor.openInNewWindow)),r.default.createElement("div",{className:"buttons"},r.default.createElement("a",{onClick:this.handleUnlink,className:"primary pull-left",href:"javascript:void(0);"},r.default.createElement("i",{className:"braft-icon-close"}),r.default.createElement("span",null,this.props.language.linkEditor.removeLink)),r.default.createElement("button",{type:"button",onClick:this.handleConfirm,className:"primary pull-right"},this.props.language.base.confirm),r.default.createElement("button",{type:"button",onClick:this.handleCancel,className:"default pull-right"},this.props.language.base.cancel)))),r.default.createElement("button",{type:"button",title:this.props.language.controls.unlink,className:"control-item button",onClick:this.handleUnlink,disabled:!c||!n},r.default.createElement("i",{className:"braft-icon-link-off"})))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(53);var a=k(n(0)),l=k(n(6)),i=k(n(20)),s=k(n(18)),c=k(n(16)),u=k(n(14)),d=k(n(13)),f=k(n(12)),p=k(n(11)),m=k(n(10)),h=k(n(9)),y=k(n(8)),b=k(n(2)),g=n(1),v=n(3);function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,i=Array(l),s=0;s<l;s++)i[s]=arguments[s];return n=r=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.mediaLibiraryModal=null,r.extendedModals={},r.openMediaLibrary=function(){if(!r.props.braftFinder||!r.props.braftFinder.ReactComponent)return!1;var e=r.props.media,t=r.props.braftFinder.ReactComponent,n=e.onBeforeDeselect,l=e.onDeselect,i=e.onBeforeSelect,s=e.onSelect,c=e.onBeforeRemove,u=e.onRemove,d=e.onFileSelect,f=e.onBeforeInsert,p=e.onChange;r.mediaLibiraryModal=(0,v.showModal)({title:r.props.language.controls.mediaLibirary,language:r.props.language,width:640,showFooter:!1,children:a.default.createElement(t,o({onCancel:r.closeMediaLibrary,onInsert:r.insertMedias,externals:e.externals},{onBeforeDeselect:n,onDeselect:l,onBeforeSelect:i,onSelect:s,onBeforeRemove:c,onRemove:u,onFileSelect:d,onBeforeInsert:f,onChange:p}))})},r.insertMedias=function(e){r.props.editor.setValue(g.ContentUtils.insertMedias(r.props.editorState,e)),r.props.editor.requestFocus(),r.props.media.onInsert&&r.props.media.onInsert(e),r.closeMediaLibrary()},r.closeMediaLibrary=function(){r.props.media.onCancel&&r.props.media.onCancel(),r.mediaLibiraryModal&&r.mediaLibiraryModal.close()},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.extendControls,r=t.language;n.forEach(function(t){"modal"===t.type&&t.modal&&t.modal.id&&e.extendedModals[t.modal.id]&&e.extendedModals[t.modal.id].update(o({},t.modal,{language:r}))})}},{key:"getControlItemClassName",value:function(e){var t="control-item button",n=e.type,o=e.command;return"inline-style"===n&&g.ContentUtils.selectionHasInlineStyle(this.props.editorState,o)?t+=" active":"block-type"===n&&g.ContentUtils.getSelectionBlockType(this.props.editorState)===o&&(t+=" active"),t}},{key:"applyControl",value:function(e,t){"inline-style"===t?this.props.editor.setValue(g.ContentUtils.toggleSelectionInlineStyle(this.props.editorState,e)):"block-type"===t?this.props.editor.setValue(g.ContentUtils.toggleSelectionBlockType(this.props.editorState,e)):"editor-method"===t&&this.props.editor[e]&&this.props.editor[e](),this.props.editor.requestFocus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.editor,r=t.editorState,k=t.controls,C=t.media,E=t.extendControls,w=t.language,_=t.colors,S=t.fontSizes,N=t.fontFamilies,O=t.emojis,x=t.containerNode,M=t.lineHeights,P=t.letterSpacings,I=t.editorHeight,j=t.textAligns,T=t.textBackgroundColor,D=t.textIndents,F=g.ContentUtils.getSelectionBlockType(r),L=(0,l.default)(w),R={editor:n,editorState:r,editorHeight:I,language:w,containerNode:x},A=E.map(function(t,n){if("separator"===t.type)return a.default.createElement("span",{key:2*k.length+n,className:"separator-line"});if("dropdown"===t.type){var r=t.disabled,l=t.autoHide,i=t.html,s=t.text,c=t.className,u=t.showDropDownArrow,d=t.hoverTitle,f=t.component,p=t.arrowActive,m=t.ref;return a.default.createElement(b.default,{key:n,className:"control-item dropdown "+c,caption:s,editorHeight:I,htmlCaption:i,showDropDownArrow:u,containerNode:x,hoverTitle:d,arrowActive:p,autoHide:l,disabled:r,ref:m},f)}return"modal"===t.type?a.default.createElement("button",{type:"button",key:2*k.length+n,title:t.hoverTitle,className:"control-item button "+t.className,dangerouslySetInnerHTML:t.html?{__html:t.html}:null,onClick:function(n){t.modal&&t.modal.id&&(e.extendedModals[t.modal.id]?(e.extendedModals[t.modal.id].active=!0,e.extendedModals[t.modal.id].update(o({},t.modal,{language:w}))):(e.extendedModals[t.modal.id]=(0,v.showModal)(o({},t.modal,{language:w})),t.modal.onCreate&&t.modal.onCreate(e.extendedModals[t.modal.id]))),t.onClick&&t.onClick(n)}},t.html?null:t.text):"component"===t.type?a.default.createElement("div",{key:2*k.length+n,className:"control-item component-wrapper "+t.className},t.component):a.default.createElement("button",{type:"button",key:2*k.length+n,title:t.hoverTitle,className:"control-item button "+t.className,dangerouslySetInnerHTML:t.html?{__html:t.html}:null,onClick:function(e){return t.onClick&&t.onClick(e)}},t.html?null:t.text)}),H=[];return a.default.createElement("div",{className:"BraftEditor-controlBar"},k.map(function(t,n){var r="string"==typeof t?t:t.key;if("string"!=typeof r)return null;if(H.indexOf(r)>-1)return null;if("separator"===r.toLowerCase())return a.default.createElement("span",{key:n,className:"separator-line"});var l=L.find(function(e){return e.key.toLowerCase()===r.toLowerCase()});if("string"!=typeof t&&(l=o({},l,t)),!l)return null;if(H.push(r),"headings"===l.type)return a.default.createElement(s.default,o({key:n,current:F,onChange:function(t){return e.applyControl(t,"block-type")}},R));if("text-color"===l.type)return a.default.createElement(c.default,o({key:n,colors:_,enableBackgroundColor:T},R));if("font-size"===l.type)return a.default.createElement(u.default,o({key:n,fontSizes:S,defaultCaption:l.title},R));if("line-height"===l.type)return a.default.createElement(d.default,o({key:n,lineHeights:M,defaultCaption:l.title},R));if("letter-spacing"===l.type)return a.default.createElement(h.default,o({key:n,letterSpacings:P,defaultCaption:l.title},R));if("text-indent"===l.type)return a.default.createElement(y.default,o({key:n,textIndents:D,defaultCaption:l.title},R));if("font-family"===l.type)return a.default.createElement(f.default,o({key:n,fontFamilies:N,defaultCaption:l.title},R));if("emoji"===l.type)return a.default.createElement(m.default,o({key:n,emojis:O,defaultCaption:l.text},R));if("link"===l.type)return a.default.createElement(i.default,o({key:n},R));if("text-align"===l.type)return a.default.createElement(p.default,o({key:n,textAligns:j},R));if("media"===l.type)return C.image||C.video||C.audio?a.default.createElement("button",{type:"button",key:n,title:l.title,className:"control-item button",onClick:e.openMediaLibrary},l.text):null;var b=e.getControlItemClassName({type:l.type,command:l.command});return a.default.createElement("button",{type:"button",key:n,title:l.title,className:b,onClick:function(){return e.applyControl(l.command,l.type)}},l.text)}),A)}}]),t}();t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var r=function(e,t){if(e.getModifierState("Shift")){var n=document.createElement("a");n.href=t,n.target="_blank",n.click()}};t.default={strategy:function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)},component:function(e){var t=e.children,n=e.entityKey,a=e.contentState.getEntity(n).getData(),l=a.href,i=a.target;return o.default.createElement("span",{className:"braft-link-wrap"},o.default.createElement("a",{onClick:function(e){return r(e,l)},className:"braft-link",href:l,target:i},t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(22));t.default=[o.default]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r={},a={},l={},i={},s={},c={};return e.colors.forEach(function(e){var t=e.replace("#","").toUpperCase();n["COLOR-"+t]={color:e},r["BGCOLOR-"+t]={backgroundColor:e}}),e.fontSizes.forEach(function(e){a["FONTSIZE-"+e]={fontSize:e}}),e.fontFamilies.forEach(function(e){l["FONTFAMILY-"+e.name.toUpperCase()]={fontFamily:e.family}}),e.lineHeights.forEach(function(e){i["LINEHEIGHT-"+e]={lineHeight:e}}),e.letterSpacings.forEach(function(e){s["LETTERSPACING-"+e]={letterSpacing:e}}),e.textIndents.forEach(function(e){c["INDENT-"+e]={paddingLeft:e,paddingRight:e}}),o({SUPERSCRIPT:{position:"relative",top:"-8px",fontSize:"11px"},SUBSCRIPT:{position:"relative",bottom:"-8px",fontSize:"11px"}},n,r,a,l,i,s,c,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=t.getData()&&t.getData().get("textAlign"),o=t.getData()&&t.getData().get("float"),r="";return n&&(r="braft-"+n+"-aligned-block"),o&&(r+=" braft-float-"+o),e&&(r+=e(t)),r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(1);function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(54);var i=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.removeHorizontalLine=function(){o.props.editor.setValue(a.ContentUtils.removeBlock(o.props.editorState,o.props.block))},l(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"render",value:function(){return r.default.createElement("div",{className:"braft-horizontal-line"},r.default.createElement("div",{className:"braft-horizontal-line-toolbar"},r.default.createElement("a",{onClick:this.removeHorizontalLine},"")))}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(55);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(3),l=n(1);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={toolbarVisible:!1,playerVisible:!1},o.showPlayer=function(){var e=o.props.mediaData.url;o.playerModal=(0,a.showModal)({title:o.props.language.videoPlayer.embedTitle,confirmable:!0,language:o.props.language,showCancel:!1,onClose:o.handlePlayerClose,children:r.default.createElement("div",{className:"braft-embed-media-player",dangerouslySetInnerHTML:{__html:e}})})},o.removeEmbed=function(){o.props.editor.setValue(l.ContentUtils.removeBlock(o.props.editorState,o.props.block))},o.showToolbar=function(){o.setState({toolbarVisible:!0})},o.hideToolbar=function(){o.setState({toolbarVisible:!1})},o.handlePlayerClose=function(){o.props.editor&&o.props.editor.requestFocus()},i(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentWillUnmount",value:function(){this.playerModal&&this.playerModal.destroy()}},{key:"render",value:function(){var e=this,t=this.state,n=t.toolbarVisible,o=(t.playerVisible,this.props),a=o.mediaData,l=(o.language,a.url),i=(a.width,a.height,a.name);return r.default.createElement("div",{className:"braft-media-video-holder",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},r.default.createElement("i",{className:"braft-icon-code"}),r.default.createElement("h5",null,i),r.default.createElement("h6",null,l),n?r.default.createElement("div",{ref:function(t){return e.toolbarElement=t},className:"braft-embed-video-toolbar"},r.default.createElement("a",{onClick:this.showPlayer},""),r.default.createElement("a",{onClick:this.removeEmbed},"")):null)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(56);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(1),l=n(3);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={toolbarVisible:!1,playerVisible:!1},o.showPlayer=function(){o.playerModal=(0,l.showModal)({title:o.props.language.audioPlayer.title,width:480,confirmable:!0,language:o.props.language,showCancel:!1,onClose:o.handlePlayerClose,onConfirm:o.handlePlayerClose,children:r.default.createElement("audio",{className:"braft-embed-audio-player",src:o.props.mediaData.url,controls:!0})})},o.removeAudio=function(){o.props.editor.setValue(a.ContentUtils.removeBlock(o.props.editorState,o.props.block))},o.showToolbar=function(){o.setState({toolbarVisible:!0})},o.hideToolbar=function(){o.setState({toolbarVisible:!1})},o.handlePlayerClose=function(){o.playerModal=null,o.props.editor&&o.props.editor.requestFocus()},i(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentWillUnmount",value:function(){this.playerModal&&this.playerModal.destroy()}},{key:"render",value:function(){var e=this,t=this.state,n=t.toolbarVisible,o=(t.playerVisible,this.props),a=o.mediaData,l=(o.language,a.url),i=(a.width,a.height,a.name);return r.default.createElement("div",{className:"braft-media-audio-holder",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},r.default.createElement("i",{className:"braft-icon-music"}),r.default.createElement("h5",null,i),r.default.createElement("h6",null,l),n?r.default.createElement("div",{ref:function(t){return e.toolbarElement=t},className:"braft-embed-audio-toolbar"},r.default.createElement("a",{onClick:this.showPlayer},""),r.default.createElement("a",{onClick:this.removeAudio},"")):null)}}]),t}();t.default=s},function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(58);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(1),l=n(3);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={toolbarVisible:!1,playerVisible:!1},o.showPlayer=function(){var e=o.props.mediaData,t=e.url,n=e.meta;o.playerModal=(0,l.showModal)({title:o.props.language.videoPlayer.title,width:480,confirmable:!0,language:o.props.language,showCancel:!1,onClose:o.handlePlayerClose,children:r.default.createElement("video",{poster:n&&n.poster?n.poster:"",className:"braft-embed-video-player",src:t,controls:!0})})},o.removeVideo=function(){o.props.editor.setValue(a.ContentUtils.removeBlock(o.props.editorState,o.props.block))},o.showToolbar=function(){o.setState({toolbarVisible:!0})},o.hideToolbar=function(){o.setState({toolbarVisible:!1})},o.handlePlayerClose=function(){o.props.editor&&o.props.editor.requestFocus()},i(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentWillUnmount",value:function(){this.playerModal&&this.playerModal.destroy()}},{key:"render",value:function(){var e=this,t=this.state,n=t.toolbarVisible,o=(t.playerVisible,this.props),a=o.mediaData,l=(o.language,a.url),i=(a.width,a.height,a.name),s=a.meta;return r.default.createElement("div",{className:"braft-media-video-holder",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},s&&s.poster?r.default.createElement("img",{className:"braft-media-video-poster",src:s.poster}):r.default.createElement("div",null,r.default.createElement("i",{className:"braft-icon-film"}),r.default.createElement("h5",null,i),r.default.createElement("h6",null,l)),n?r.default.createElement("div",{ref:function(t){return e.toolbarElement=t},className:"braft-embed-video-toolbar"},r.default.createElement("a",{onClick:this.showPlayer},""),r.default.createElement("a",{onClick:this.removeVideo},"")):null)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(o=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(60);var l=u(n(0)),i=n(1),s=u(n(7)),c=n(6);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={toolbarVisible:!1,toolbarOffset:0,linkEditorVisible:!1,sizeEditorVisible:!1,tempLink:null,tempWidth:null,tempHeight:null},a.handleDragStart=function(e){return window.__BRAFT_DRAGING__IMAGE__={block:a.props.block,mediaData:r({type:"IMAGE"},a.props.mediaData)},a.setState({toolbarVisible:!1},function(){a.props.editor.setDraftProps({readOnly:!1})}),!0},a.handleDragEnd=function(e){return window.__BRAFT_DRAGING__IMAGE__=null,!1},a.executeCommand=function(e){if("string"==typeof e){var t=e.split("|"),n=o(t,2),r=n[0],l=n[1];a[r]&&a[r](l)}else"function"==typeof e&&e(a.props.block,a.props.editorState)},a.removeImage=function(){a.props.editor.setValue(i.ContentUtils.removeBlock(a.props.editorState,a.props.block)),a.props.editor.setDraftProps({readOnly:!1})},a.toggleLinkEditor=function(){a.setState({linkEditorVisible:!a.state.linkEditorVisible,sizeEditorVisible:!1})},a.toggleSizeEditor=function(){a.setState({linkEditorVisible:!1,sizeEditorVisible:!a.state.sizeEditorVisible})},a.handleLinkInputKeyDown=function(e){13===e.keyCode&&a.confirmImageLink()},a.setImageLink=function(e){a.setState({tempLink:e.currentTarget.value})},a.confirmImageLink=function(){var e=a.state.tempLink;null!==e&&(a.props.editor.setValue(i.ContentUtils.setMediaData(a.props.editorState,a.props.entityKey,{link:e})),window.setImmediate(a.props.editor.forceRender))},a.handleSizeInputKeyDown=function(e){13===e.keyCode&&a.confirmImageSize()},a.setImageWidth=function(e){var t=e.currentTarget.value;t&&!isNaN(t)&&(t+="px"),a.setState({tempWidth:t})},a.setImageHeight=function(e){var t=e.currentTarget.value;t&&!isNaN(t)&&(t+="px"),a.setState({tempHeight:t})},a.confirmImageSize=function(){var e=a.state,t=e.tempWidth,n=e.tempHeight,o={};null!==t&&(o.width=t),null!==n&&(o.height=n),a.props.editor.setValue(i.ContentUtils.setMediaData(a.props.editorState,a.props.entityKey,o)),window.setImmediate(a.props.editor.forceRender)},a.setImageFloat=function(e){a.props.editor.setValue(i.ContentUtils.setMediaPosition(a.props.editorState,a.props.block,{float:e})),a.props.editor.setDraftProps({readOnly:!1})},a.setImageAlignment=function(e){a.props.editor.setValue(i.ContentUtils.setMediaPosition(a.props.editorState,a.props.block,{alignment:e})),a.props.editor.setDraftProps({readOnly:!1})},a.showToolbar=function(e){e.preventDefault(),a.state.toolbarVisible||a.setState({toolbarVisible:!0},function(){a.props.editor.setDraftProps({readOnly:!0}),a.setState({toolbarOffset:a.calcToolbarOffset()})})},a.hideToolbar=function(e){e.preventDefault(),a.setState({toolbarVisible:!1},function(){a.props.editor.setDraftProps({readOnly:!1})})},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.mediaData,o=t.language,r=t.imageControls,a=this.state,i=a.toolbarVisible,u=a.toolbarOffset,d=a.linkEditorVisible,f=a.sizeEditorVisible,p=this.props.block.getData(),m=p.get("float"),h=p.get("alignment"),y=n.url,b=n.link,g=n.link_target,v=n.width,k=n.height,C={},E=!1;m?h=null:"left"===h?(C.float="left",E=!0):"right"===h?(C.float="right",E=!0):"center"===h?C.textAlign="center":(C.float="left",E=!0);var w=r.map(function(t,n){return"string"==typeof t&&c.imageControlItems[t]?l.default.createElement("a",{className:"link"===t&&b?"active":"",key:n,href:"javascript:void(0);",onClick:function(){return e.executeCommand(c.imageControlItems[t].command)}},c.imageControlItems[t].text):t&&t.onClick&&t.text?l.default.createElement("a",{key:n,href:"javascript:void(0);",onClick:function(){return e.executeCommand(t.onClick)}},t.text):null});return l.default.createElement("div",{className:"braft-media-embeder braft-image-embeder"},l.default.createElement("div",{style:C,draggable:!0,onMouseEnter:this.showToolbar,onMouseMove:this.showToolbar,onMouseLeave:this.hideToolbar,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,ref:function(t){return e.mediaEmbederInstance=t},className:"braft-embed-image"},i?l.default.createElement("div",{style:{marginLeft:u},ref:function(t){return e.toolbarElement=t},"data-float":m,"data-align":h,className:"braft-embed-image-toolbar"},d?l.default.createElement("div",{className:"braft-embed-image-link-editor"},l.default.createElement("div",{className:"editor-input-group"},l.default.createElement("input",{type:"text",placeholder:o.linkEditor.inputWithEnterPlaceHolder,onKeyDown:this.handleLinkInputKeyDown,onChange:this.setImageLink,defaultValue:b}),l.default.createElement("button",{type:"button",onClick:this.confirmImageLink},o.base.confirm)),l.default.createElement("div",{className:"switch-group"},l.default.createElement(s.default,{active:"_blank"===g,onClick:function(){return e.setImageLinkTarget(g)}}),l.default.createElement("label",null,o.linkEditor.openInNewWindow))):null,f?l.default.createElement("div",{className:"braft-embed-image-size-editor"},l.default.createElement("div",{className:"editor-input-group"},l.default.createElement("input",{type:"text",placeholder:o.base.width,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageWidth,defaultValue:v}),l.default.createElement("input",{type:"text",placeholder:o.base.height,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageHeight,defaultValue:k}),l.default.createElement("button",{type:"button",onClick:this.confirmImageSize},o.base.confirm))):null,w,l.default.createElement("i",{style:{marginLeft:-1*u},className:"braft-embed-image-toolbar-arrow"})):null,l.default.createElement("img",{ref:function(t){return e.imageElement=t},src:y,style:{width:v,height:k},width:v,height:k})),E&&l.default.createElement("div",{className:"clearfix",style:{clear:"both",height:0,lineHeight:0,float:"none"}}))}},{key:"calcToolbarOffset",value:function(){var e=this.props.containerNode.getBoundingClientRect(),t=this.toolbarElement.getBoundingClientRect(),n=this.imageElement.getBoundingClientRect(),o=e.right-(n.right-n.width/2+t.width/2),r=n.left+n.width/2-t.width/2-e.left;return o<10?o-10:r<10?-1*r+10:0}},{key:"setImageLinkTarget",value:function(e){e="_blank"===e?"":"_blank",this.props.editor.setValue(i.ContentUtils.setMediaData(this.props.editorState,this.props.entityKey,{link_target:e})),window.setImmediate(this.props.editor.forceRender)}}]),t}();t.default=f},function(e,t){e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decorators=t.getCustomStyleMap=t.getBlockStyleFn=t.customBlockRenderMap=t.getBlockRendererFn=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=h(n(0)),a=n(32),l=n(4),i=h(n(31)),s=h(n(30)),c=h(n(28)),u=h(n(27)),d=h(n(26)),f=h(n(25)),p=h(n(24)),m=h(n(23));function h(e){return e&&e.__esModule?e:{default:e}}t.getBlockRendererFn=function(e,t){return function(n){var a=null;return"atomic"===n.getType()?a={component:function(e,t){return function(n){var a=n.block.getEntityAt(0);if(!a)return null;var l=n.contentState.getEntity(a),f=l.getData(),p=l.getType(),m=o({},t,{block:e,mediaData:f,entityKey:a});if("IMAGE"===p)return r.default.createElement(i.default,m);if("AUDIO"===p)return r.default.createElement(c.default,m);if("VIDEO"===p)return r.default.createElement(s.default,m);if("EMBED"===p)return r.default.createElement(u.default,m);if("HR"===p)return r.default.createElement(d.default,m);if(t.extendAtomics)for(var h=t.extendAtomics,y=0;y<h.length;y++)if(p===h[y].type){var b=h[y].component;return r.default.createElement(b,m)}return null}}(n,e),editable:!1}:t&&(a=t(n)||null),a}},t.customBlockRenderMap=(0,a.Map)({atomic:{element:""},"code-block":{element:"code",wrapper:l.DefaultDraftBlockRenderMap.get("code-block").wrapper}}),t.getBlockStyleFn=f.default,t.getCustomStyleMap=p.default,t.decorators=m.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={height:500,language:"zh",controls:["undo","redo","separator","font-size","font-family","line-height","letter-spacing","separator","text-indent","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","emoji","text-align","separator","headings","list_ul","list_ol","blockquote","code","separator","link","split","hr","separator","media","separator","clear"],excludeControls:[],extendControls:[],extendAtomics:[],componentBelowControlBar:null,media:{pasteImage:!0,image:!0,video:!0,audio:!0,uploadFn:null,validateFn:null,onBeforeDeselect:null,onDeselect:null,onBeforeSelect:null,onSelect:null,onBeforeRemove:null,onRemove:null,onCancel:null,onFileSelect:null,onBeforeInsert:null,onInsert:null,onChange:null,externals:{audio:!0,video:!0,image:!0,embed:!0}},imageControls:["float-left","float-right","align-left","align-center","align-right","link","size","remove"],colors:["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#61a951","#16a085","#07a9fe","#003ba5","#8e44ad","#f32784","#c0392b","#d35400","#f39c12","#fdda00","#7f8c8d","#2c3e50"],tabIndents:2,textAligns:["left","center","right","justify"],textBackgroundColor:!0,letterSpacings:[0,1,2,3,4,5,6],textIndents:[0,14,21,28],lineHeights:["1","1.2","1.5","1.75","2","2.5","3","4"],fontSizes:[12,14,16,18,20,24,28,30,32,36,40,48,56,64,72,96,120,144],fontFamilies:[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:"tahoma, arial, 'Hiragino Sans GB', 宋体, sans-serif"}],emojis:["🤣","🙌","💚","💛","👏","😉","💯","💕","💞","💘","💙","💝","🖤","💜","❤️","😍","😻","💓","💗","😋","😇","😂","😹","😘","💖","😁","😀","🤞","😲","😄","😊","👍","😌","😃","😅","✌️","🤗","💋","😗","😽","😚","🤠","😙","😺","👄","😸","😏","😼","👌","😎","😆","😛","🙏","🤝","🙂","🤑","😝","😐","😑","🤤","😤","🙃","🤡","😶","😪","😴","😵","😓","👊","😦","😷","🤐","😜","🤓","👻","😥","🙄","🤔","🤒","🙁","😔","😯","☹️","☠️","😰","😩","😖","😕","😒","😣","😢","😮","😿","🤧","😫","🤥","😞","😬","👎","💀","😳","😨","🤕","🤢","😱","😭","😠","😈","😧","💔","😟","🙀","💩","👿","😡","😾","🖕"],draftProps:{},onChange:null,onFocus:null,onBlur:null,onSave:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4);t.default=function(e){return function(t){return 83===t.keyCode&&(o.KeyBindingUtil.hasCommandModifier(t)||o.KeyBindingUtil.isCtrlKeyCommand(t))?"braft-save":e&&e(t)||(0,o.getDefaultKeyBinding)(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={base:{remove:"刪除",cancel:"取消",confirm:"確定",inert:"插入",width:"宽度",height:"高度"},controls:{clear:"清除内容",undo:"撤銷",redo:"重做",fontSize:"字號",color:"顏色",textColor:"文字顏色",backgroundColor:"背景顏色",tempColors:"臨時顏色",bold:"加粗",lineHeight:"行高",letterSpacing:"字間距",textIndent:"兩端縮進",border:"邊框",italic:"斜體",underline:"下劃線",strikeThrough:"刪除線",fontFamily:"字體",textAlign:"文本對齊",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",alignJustify:"兩端對齊",floatLeft:"左浮動",floatRight:"右浮動",superScript:"上標",subScript:"下標",removeStyles:"清除样式",headings:"標題",header:"標題",normal:"常規",orderedList:"有序列表",unorderedList:"無序列表",blockQuote:"引用",code:"代碼",link:"鏈接",unlink:"清除鏈接",hr:"水平线",media:"媒體",mediaLibirary:"媒體库",emoji:"小表情"},linkEditor:{inputPlaceHolder:"輸入鏈接地址",inputWithEnterPlaceHolder:"輸入鏈接地址並回車",openInNewWindow:"在新窗口打開",removeLink:"移除鏈接"},audioPlayer:{title:"播放音頻文件"},videoPlayer:{title:"播放視頻文件",embedTitle:"嵌入式媒體"},media:{image:"圖像",video:"視頻",audio:"音頻",embed:"嵌入式媒體"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={base:{remove:"删除",cancel:"取消",confirm:"确定",inert:"插入",width:"宽度",height:"高度"},controls:{clear:"清除内容",undo:"撤销",redo:"重做",fontSize:"字号",lineHeight:"行高",letterSpacing:"字间距",textIndent:"两端缩进",border:"边框",color:"颜色",textColor:"文字颜色",backgroundColor:"背景颜色",tempColors:"临时颜色",bold:"加粗",italic:"斜体",underline:"下划线",strikeThrough:"删除线",fontFamily:"字体",textAlign:"文本对齐",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",alignJustify:"两端",floatLeft:"左浮动",floatRight:"右浮动",superScript:"上标",subScript:"下标",removeStyles:"清除样式",headings:"标题",header:"标题",normal:"常规",orderedList:"有序列表",unorderedList:"无序列表",blockQuote:"引用",code:"代码",link:"链接",unlink:"清除链接",hr:"水平线",media:"媒体",mediaLibirary:"媒体库",emoji:"小表情"},linkEditor:{inputPlaceHolder:"输入链接地址",inputWithEnterPlaceHolder:"输入链接地址并回车",openInNewWindow:"在新窗口打开",removeLink:"移除链接"},audioPlayer:{title:"播放音频文件"},videoPlayer:{title:"播放视频文件",embedTitle:"嵌入式媒体"},media:{image:"图像",video:"视频",audio:"音频",embed:"嵌入式媒体"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={base:{remove:"Remove",cancel:"Cancel",confirm:"Confirm",inert:"Insert",width:"Width",height:"Height"},controls:{clear:"Clear",undo:"Undo",redo:"Redo",fontSize:"Font Size",color:"Color",textColor:"Text",tempColors:"Temp Colors",backgroundColor:"Background",bold:"Bold",lineHeight:"Line Height",letterSpacing:"Letter Spacing",textIndent:"Indent at both ends",italic:"Italic",underline:"Underline",strikeThrough:"Strike Through",fontFamily:"Font Family",textAlign:"Text Alignment",alignLeft:"Left Alignment",alignCenter:"Center Alignment",alignRight:"Right Alignment",alignJustify:"Justify Alignment",floatLeft:"Left Float",floatRight:"Right Float",superScript:"Super Script",subScript:"Sub Script",removeStyles:"Remove Styles",headings:"Headings",header:"Header",normal:"Normal",orderedList:"Ordered List",unorderedList:"Unordered List",blockQuote:"Quote",code:"Code",link:"Link",unlink:"Unlink",hr:"Horizontal Line",media:"Media",mediaLibirary:"Media Libirary",emoji:"Emoji"},linkEditor:{inputPlaceHolder:"Input link URL",inputWithEnterPlaceHolder:"Input link URL and press Enter",openInNewWindow:"Open in new window",removeLink:"Remove Link"},audioPlayer:{title:"Play Audio"},videoPlayer:{title:"Play Video",embedTitle:"Embed Media"},media:{image:"Image",video:"Video",audio:"Audio",embed:"Embed"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(38)),r=l(n(37)),a=l(n(36));function l(e){return e&&e.__esModule?e:{default:e}}t.default={en:o.default,zh:r.default,"zh-hant":a.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(66),n(64);var a=p(n(0)),l=p(n(39)),i=n(1),s=n(4),c=p(n(35)),u=p(n(34)),d=n(33),f=p(n(21));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var h=new s.CompositeDecorator(d.decorators),y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){n.setState({editorState:e},function(){n.props.onChange&&n.props.onChange(e)})},n.getDraftInstance=function(){return n.draftInstance},n.getFinderInstance=function(){return n.braftFinder},n.getValue=function(){return n.state.editorState},n.setValue=function(e){return n.onChange(e)},n.forceRender=function(){return n.setValue(i.ContentUtils.createEditorState(n.state.editorState.getCurrentContent(),h))},n.onTab=function(e){if("code-block"===i.ContentUtils.getSelectionBlockType(n.state.editorState))return n.insertText(" ".repeat(n.props.tabIndents),!1),e.preventDefault(),!1;n.props.onTab&&n.props.onTab(e)},n.onFocus=function(){n.isFocused=!0,n.props.onFocus&&n.props.onFocus()},n.onBlur=function(){n.isFocused=!1,n.props.onBlur&&n.props.onBlur()},n.requestFocus=function(){setTimeout(function(){return n.draftInstance.focus()},0)},n.handleKeyCommand=function(e){if("braft-save"===e)return n.props.onSave&&n.props.onSave(),"handled";var t=i.ContentUtils.handleKeyCommand(n.state.editorState,e);return t?(n.setValue(t),"handled"):"not-handled"},n.handleReturn=function(e){var t=i.ContentUtils.getSelectionBlock(n.state.editorState),o=t.getType();if("unordered-list-item"===o||"ordered-list-item"===o)return 0===t.getLength()?(n.setValue(i.ContentUtils.toggleSelectionBlockType(n.state.editorState,"unstyled")),"handled"):"not-handled";if("code-block"===o)return 13===e.which&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))?(n.setValue(i.ContentUtils.toggleSelectionBlockType(n.state.editorState,"unstyled")),"handled"):"not-handled";var r=i.ContentUtils.handleNewLine(n.state.editorState,e);return r?(n.setValue(r),"handled"):"not-handled"},n.handleDrop=function(e,t,o){if(window&&window.__BRAFT_DRAGING__IMAGE__){var r=i.ContentUtils.removeBlock(n.state.editorState,window.__BRAFT_DRAGING__IMAGE__.block,e);return r=i.ContentUtils.insertMedias(r,[window.__BRAFT_DRAGING__IMAGE__.mediaData]),window.__BRAFT_DRAGING__IMAGE__=null,n.setDraftProps({readOnly:!1}),n.setValue(r),"handled"}return t&&t.getText()?"not-handled":"handled"},n.handleDroppedFiles=function(e,t){return n.resolveFiles(t)},n.handlePastedFiles=function(e){return n.resolveFiles(e)},n.handlePastedText=function(e,t){if(!t||n.props.stripPastedStyles)return!1;var o=i.ColorUtils.detectColorsFromHTMLString(t);return n.setState({tempColors:[].concat(m(n.state.tempColors),m(o)).filter(function(e){return-1===n.props.colors.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t})},function(){n.setValue(i.ContentUtils.insertHTML(n.state.editorState,t))}),!0},n.resolveFiles=function(e){return e[0]&&e[0].type.indexOf("image")>-1&&n.props.media&&n.props.media.pasteImage?(n.braftFinder.uploadImage(e[0],function(e){n.setValue(i.ContentUtils.insertMedias(n.state.editorState,[e]))}),"handled"):"not-handled"},n.undo=function(){n.setValue(i.ContentUtils.undo(n.state.editorState))},n.redo=function(){n.setValue(i.ContentUtils.redo(n.state.editorState))},n.removeSelectionInlineStyles=function(){n.setValue(i.ContentUtils.removeSelectionInlineStyles(n.state.editorState))},n.insertHorizontalLine=function(){n.setValue(i.ContentUtils.insertHorizontalLine(n.state.editorState))},n.clearEditorContent=function(){n.setValue(i.ContentUtils.clear(n.state.editorState))},n.setEditorContainerNode=function(e){n.setState({containerNode:e})},n.isFocused=!1,n.keyBindingFn=(0,c.default)(e.customKeyBindingFn),n.blockStyleFn=(0,d.getBlockStyleFn)(e.blockStyleFn),n.blockRenderMap=s.DefaultDraftBlockRenderMap.merge(d.customBlockRenderMap),e.blockRenderMapFn&&(n.blockRenderMap=e.blockRenderMapFn(n.blockRenderMap)),n.braftFinder=null,n.state={containerNode:null,tempColors:[],editorState:i.ContentUtils.createEmptyEditorState(h),draftProps:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentWillMount",value:function(){var e=this;-1!==this.props.controls.indexOf("media")&&Promise.resolve().then(function(){var t=n(5).default;e.braftFinder=new t({language:e.props.language,uploadFn:e.props.media.uploadFn,validateFn:e.props.media.validateFn}),e.forceUpdate()}.bind(null,n)).catch(n.oe)}},{key:"componentDidMount",value:function(){var e=this.props.value;i.ContentUtils.isEditorState(e)?this.setState({editorState:e}):e&&console.warn(""),document.addEventListener("selectionchange",this.draftInstance._onSelect)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("selectionchange",this.draftInstance._onSelect)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;i.ContentUtils.isEditorState(t)?this.setState({editorState:t}):t&&console.warn("")}},{key:"render",value:function(){var e=this,t=this.props,n=t.controls,r=t.excludeControls,i=t.extendControls,c=t.disabled,p=t.height,h=t.media,y=t.language,b=t.colors,g=t.fontSizes,v=t.fontFamilies,k=t.emojis,C=t.placeholder,E=t.imageControls,w=t.lineHeights,_=t.letterSpacings,S=t.textIndents,N=t.textAligns,O=t.textBackgroundColor,x=t.extendAtomics,M=t.className,P=t.stripPastedStyles,I=t.componentBelowControlBar;n=n.filter(function(e){return-1===r.indexOf(e)}),y=l.default[y]||l.default[u.default.language];var j=h&&h.externals?o({},u.default.media.externals,h.externals):u.default.media.externals;(h=o({},u.default.media,h,{externalMedias:j})).uploadFn||(h.video=!1,h.audio=!1);var T={editor:this,editorState:this.state.editorState,braftFinder:this.braftFinder,editorHeight:p,ref:function(t){return e.controlBarInstance=t},containerNode:this.state.containerNode,colors:[].concat(m(b),m(this.state.tempColors)),media:h,controls:n,language:y,extendControls:i,fontSizes:g,fontFamilies:v,emojis:k,lineHeights:w,letterSpacings:_,textIndents:S,textAligns:N,textBackgroundColor:O},D=(0,d.getBlockRendererFn)({editor:this,editorState:this.state.editorState,containerNode:this.state.containerNode,imageControls:E,language:y,extendAtomics:x},this.props.blockRendererFn),F=(0,d.getCustomStyleMap)({colors:[].concat(m(b),m(this.state.tempColors)),fontSizes:g,fontFamilies:v,lineHeights:w,letterSpacings:_,textIndents:S},this.props.customStyleMap),L=o({ref:function(t){e.draftInstance=t},editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,handleDrop:this.handleDrop,handleDroppedFiles:this.handleDroppedFiles,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,onChange:this.onChange,onTab:this.onTab,onFocus:this.onFocus,onBlur:this.onBlur,readOnly:c,blockRenderMap:this.blockRenderMap,blockStyleFn:this.blockStyleFn,keyBindingFn:this.keyBindingFn,customStyleMap:F,blockRendererFn:D,placeholder:C,stripPastedStyles:P},this.props.draftProps,this.state.draftProps);return a.default.createElement("div",{ref:this.setEditorContainerNode,className:"BraftEditor-container "+M+" "+(c?"disabled":"")},a.default.createElement(f.default,T),I,a.default.createElement("div",{className:"BraftEditor-content",style:p?{height:p}:{}},a.default.createElement(s.Editor,L)))}},{key:"setDraftProps",value:function(e){this.setState({draftProps:o({},this.state.draftProps,e)})}}]),t}();y.defaultProps=u.default,t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(40));t.default=o.default},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},,function(e,t){}])});
//# sourceMappingURL=index.js.map