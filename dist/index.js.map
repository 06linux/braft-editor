{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///../node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///../node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///external \"braft-utils\"","webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///../node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///../node_modules/@babel/runtime/helpers/inherits.js","webpack:///../node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///external \"draft-js\"","webpack:///../node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///../node_modules/@babel/runtime/helpers/extends.js","webpack:///external \"immutable\"","webpack:///external \"braft-convert\"","webpack:///external \"react-dom\"","webpack:///../node_modules/@babel/runtime/helpers/typeof.js","webpack:///external \"braft-finder\"","webpack:///../node_modules/draft-js-multidecorators/index.js","webpack:///external \"draftjs-utils\"","webpack:///../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./languages/en.js","webpack:///./languages/zh.js","webpack:///./languages/zh-hant.js","webpack:///./languages/index.js","webpack:///./configs/keybindings.js","webpack:///./configs/props.js","webpack:///./configs/handlers.js","webpack:///./helpers/extension.js","webpack:///./renderers/block/blockRenderMap.js","webpack:///./components/common/Switch/index.jsx","webpack:///./configs/controls.js","webpack:///./renderers/atomics/Image/index.jsx","webpack:///./components/common/StaticContainer/index.jsx","webpack:///./renderers/atomics/Video/index.jsx","webpack:///./renderers/atomics/Audio/index.jsx","webpack:///./renderers/atomics/Embed/index.jsx","webpack:///./renderers/atomics/HorizontalLine/index.jsx","webpack:///./renderers/block/blockRendererFn.js","webpack:///./renderers/block/blockStyleFn.js","webpack:///./renderers/inline/inlineStyleMap.js","webpack:///./renderers/inline/inlineStyleFn.js","webpack:///./renderers/decorators/Link/index.jsx","webpack:///./renderers/decorators/index.js","webpack:///./renderers/index.js","webpack:///./helpers/responsive.js","webpack:///./components/common/DropDown/index.jsx","webpack:///./components/business/LinkEditor/index.jsx","webpack:///./configs/maps.js","webpack:///./components/business/Headings/index.jsx","webpack:///./components/common/ColorPicker/index.jsx","webpack:///./components/business/TextColor/index.jsx","webpack:///./components/business/FontSize/index.jsx","webpack:///./components/business/LineHeight/index.jsx","webpack:///./components/business/FontFamily/index.jsx","webpack:///./components/business/TextAlign/index.jsx","webpack:///./components/business/EmojiPicker/index.jsx","webpack:///./components/business/LetterSpacing/index.jsx","webpack:///./components/business/TextIndent/index.jsx","webpack:///./components/common/Modal/index.jsx","webpack:///./components/business/ControlBar/index.jsx","webpack:///./editor/index.jsx","webpack:///./index.jsx","webpack:///../node_modules/draft-js/dist/Draft.css","webpack:///./assets/scss/_base.scss","webpack:///./renderers/atomics/Image/style.scss","webpack:///./components/common/Switch/style.scss","webpack:///./renderers/atomics/Video/style.scss","webpack:///./renderers/atomics/Audio/style.scss","webpack:///./renderers/atomics/Embed/style.scss","webpack:///./renderers/atomics/HorizontalLine/style.scss","webpack:///./components/business/ControlBar/style.scss","webpack:///./components/business/LinkEditor/style.scss","webpack:///./components/common/DropDown/style.scss","webpack:///./components/business/Headings/style.scss","webpack:///./components/business/TextColor/style.scss","webpack:///./components/common/ColorPicker/style.scss","webpack:///./components/business/FontSize/style.scss","webpack:///./components/business/LineHeight/style.scss","webpack:///./components/business/FontFamily/style.scss","webpack:///./components/business/EmojiPicker/style.scss","webpack:///./components/business/LetterSpacing/style.scss","webpack:///./components/common/Modal/style.scss"],"names":["base","remove","cancel","confirm","inert","width","height","controls","clear","undo","redo","fontSize","color","textColor","tempColors","backgroundColor","bold","lineHeight","letterSpacing","textIndent","increaseIndent","decreaseIndent","italic","underline","strikeThrough","fontFamily","textAlign","alignLeft","alignCenter","alignRight","alignJustify","floatLeft","floatRight","superScript","subScript","removeStyles","headings","header","normal","orderedList","unorderedList","blockQuote","code","link","unlink","hr","media","mediaLibirary","emoji","linkEditor","inputPlaceHolder","inputWithEnterPlaceHolder","openInNewWindow","removeLink","audioPlayer","title","videoPlayer","embedTitle","image","video","audio","embed","border","en","zh","zhHant","customKeyBindingFn","event","keyCode","KeyBindingUtil","hasCommandModifier","isCtrlKeyCommand","getDefaultKeyBinding","language","excludeControls","extendControls","extendAtomics","componentBelowControlBar","pasteImage","imagePasteLimit","uploadFn","validateFn","onBeforeDeselect","onDeselect","onBeforeSelect","onSelect","onBeforeRemove","onRemove","onCancel","onFileSelect","onBeforeInsert","onInsert","onChange","accepts","externals","imageControls","colors","colorPicker","colorPickerTheme","colorPickerAutoHide","codeTabIndents","textAligns","textBackgroundColor","defaultLinkTarget","letterSpacings","lineHeights","fontSizes","fontFamilies","name","family","converts","unitExportFn","value","type","emojis","stripPastedStyles","className","style","controlBarClassName","controlBarStyle","contentClassName","contentStyle","draftProps","hooks","onFocus","onBlur","onTab","onDelete","onSave","keyCommandHandlers","command","editorState","editor","editorProps","handleKeyCommand","allowIndent","indexOf","find","item","key","cursorStart","getSelection","getStartOffset","cursorEnd","getEndOffset","cursorIsAtFirst","blockType","ContentUtils","getSelectionBlockType","setValue","decreaseSelectionIndent","insertText","repeat","increaseSelectionIndent","nextEditorState","returnHandlers","handleReturn","currentBlock","getSelectionBlock","currentBlockType","getType","getLength","toggleSelectionBlockType","which","getModifierState","handleNewLine","beforeInputHandlers","chars","handleBeforeInput","dropHandlers","selectionState","dataTransfer","window","__BRAFT_DRAGING__IMAGE__","removeBlock","insertMedias","mediaData","block","setDraftProps","readOnly","getText","handleFiles","files","constructor","defaultProps","slice","forEach","file","braftFinder","uploadImage","isLiving","state","droppedFilesHandlers","handleDroppedFiles","pastedFilesHandlers","handlePastedFiles","pastedTextHandlers","text","html","handlePastedText","ColorUtils","detectColorsFromHTMLString","setState","filter","index","array","insertHTML","extensionControls","extensionDecorators","propInterceptors","extensionBlockRenderMaps","extensionBlockRendererFns","extensionInlineStyleMaps","extensionInlineStyleFns","extensionEntities","inlineStyleImporters","inlineStyleExporters","blockImporters","blockExporters","filterByEditorId","items","editorId","includeEditors","map","data","excludeEditors","getPropInterceptors","getExtensionControls","getExtensionDecorators","getExtensionBlockRenderMaps","getExtensionBlockRendererFns","getExtensionInlineStyleMap","inlineStyleMap","inlineStyleName","styleMap","getExtensionInlineStyleFns","compositeStyleImportFn","styleImportFn","nodeName","node","styleImporter","importer","add","compositeStyleExportFn","styleExportFn","toUpperCase","result","undefined","exporter","compositeEntityImportFn","entityImportFn","createEntity","source","entityItem","matched","entityType","mutability","compositeEntityExportFn","entityExportFn","entity","originalText","compositeBlockImportFn","blockImportFn","blockImporter","compositeBlockExportFn","blockExportFn","contentState","blockExporter","useExtension","extension","Array","push","control","styleFn","decorator","component","renderMap","rendererFn","strategy","getDecorations","interceptor","createExtensibleEditor","BraftEditor","use","props","blockRenderMap","customBlockRenderMap","Map","element","wrapper","merge","DefaultDraftBlockRenderMap","active","onClick","lang","imageControlItems","Image","toolbarVisible","toolbarOffset","linkEditorVisible","sizeEditorVisible","tempLink","tempWidth","tempHeight","split","method","param","e","confirmImageLink","currentTarget","setMediaData","entityKey","setImmediate","forceRender","confirmImageSize","isNaN","newImageSize","float","setMediaPosition","alignment","preventDefault","calcToolbarOffset","requestFocus","blockData","getData","get","src","url","link_target","imageStyles","clearFix","renderedControlItems","executeCommand","render","showToolbar","hideToolbar","handleDragStart","handleDragEnd","instance","mediaEmbederInstance","marginLeft","toolbarElement","handleLinkInputKeyDown","setImageLink","setImageLinkTarget","handleSizeInputKeyDown","setImageWidth","setImageHeight","imageElement","containerNode","viewRect","getBoundingClientRect","toolbarRect","imageRect","right","left","React","Component","children","Video","meta","poster","removeVideo","Audio","removeAudio","Embed","__html","removeEmbed","HorizontalLine","removeHorizontalLine","getAtomicBlockComponent","superProps","getEntityAt","getEntity","mediaType","mediaProps","atomics","i","length","customBlockRendererFn","blockRenderer","editable","customBlockStyleFn","blockAlignment","blockIndent","blockFloat","customStyleMap","extensionInlineStyleMap","position","top","bottom","getStyleValue","options","styles","output","customStyleFn","href","target","viewLink","document","createElement","click","KEY_SEPARATOR","CombineDecorators","prototype","decorations","fill","decorators","offset","Immutable","List","builtinDecorators","Link","createStrategy","callback","findEntityRanges","character","entityDecorators","strategyDecorators","classDecorators","CompositeDecorator","getBlockRenderMap","_getBlockRenderMap","getBlockRendererFn","_getBlockRendererFn","getBlockStyleFn","_getBlockStyleFn","getCustomStyleMap","_getCustomStyleMap","getCustomStyleFn","_getCustomStyleFn","getDecorators","_getDecorators","resizeEventHandlers","responsiveHelperInited","debouce","resolve","eventHandler","id","BaseUtils","UniqueIndex","unresolve","addEventListener","clearTimeout","setTimeout","DropDown","componentId","alive","body","registerClickEvent","responsiveResolveId","ResponsiveHelper","fixDropDownPosition","next","disabled","hide","prevState","removeEventListener","caption","htmlCaption","showArrow","arrowActive","theme","dropDownHandlerElement","dropDownContentElement","handlerRect","contentRect","autoHide","dataset","braftComponentId","keepActive","LinkEditor","handleConfirm","dropDownComponent","toggleSelectionLink","hookReturns","nextProps","getSelectionEntityData","textSelected","isSelectionCollapsed","handeKeyDown","inputLink","setTarget","handleUnlink","handleCancel","getHeadings","blocks","currentHeadingIndex","findIndex","current","isActive","presetColors","toLowerCase","replace","TextColor","colorType","closePicker","toggleSelectionColor","toggleSelectionBackgroundColor","captionStyle","currentColor","selectionStyles","getCurrentInlineStyle","toJS","ColorPicker","BuiltinColorPicker","dropDownComponentId","enableBackgroundColor","display","switchColorType","toggleColor","toggleFontSize","size","toggleSelectionFontSize","currentFontSize","selectionHasInlineStyle","defaultCaption","toggleLineHeight","toggleSelectionLineHeight","currentLineHeight","toggleFontFamily","fontFamilyName","toggleSelectionFontFamily","currentIndex","TextAlign","currentAlignment","toggleSelectionAlignment","getSelectionBlockData","textAlignmentTitles","setAlignment","insertEmoji","toggleLetterSpacing","toggleSelectionLetterSpacing","currentLetterSpacing","currentIndent","Modal","rootElement","classList","contains","ReactDOM","unmountComponentAtNode","parentNode","removeChild","closeOnCancel","close","closeOnConfirm","onConfirm","unrenderComponent","onClose","visible","renderComponent","activeId","clearImmediate","confirmable","showFooter","showCancel","showConfirm","showClose","cancelText","confirmText","bottomText","childComponent","handleTransitionEnd","querySelector","appendChild","showModal","hostNode","extProps","modalInstance","destroy","update","commandHookMap","mergeControls","builtControls","subItem","concat","ControlBar","ReactComponent","MediaLibrary","mediaLibiraryModal","closeBraftFinder","bindBraftFinderHook","hookName","medias","modal","extendedModals","getSelectionEntityType","toggleSelectionInlineStyle","toggleSelectionEntity","commonProps","renderedControls","editorControls","getEditorControls","allControls","itemKey","controlItem","applyControl","openBraftFinder","ref","onCreate","getUndoStack","getRedoStack","getControlItemClassName","tagName","buildHooks","defaultReturns","filterColors","colors2","isControlEnabled","controlName","getConvertOptions","convertOptions","setConvertOptions","draftInstance","createEditorState","getCurrentContent","editorDecorators","isFocused","focus","removeSelectionInlineStyles","insertHorizontalLine","toggleSelectionIndent","getEditorProps","valueInitialized","defaultValue","defaultEditorState","isEditorState","createEmptyEditorState","porpsMap","BraftFinder","uploader","validator","forceUpdate","detectColorsFromDraftState","toRAW","_","currentProps","setItems","placeholder","languages","externalMedias","controlBarProps","controlBarInstance","blockRendererFn","blockStyleFn","keyBindingFn","getKeyBindingFn","handleDrop","setEditorContainerNode","EditorState","toHTML","convertEditorStateToHTML","noStringify","convertEditorStateToRaw","JSON","stringify","isEmpty","hasText","createFrom","content","entityMap","convertRawToEditorState","parse","error","convertHTMLToEditorState","createEmpty"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;AClFA,gD;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;ACfA,gD;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;AChBA,cAAc,mBAAO,CAAC,EAAmB;;AAEzC,4BAA4B,mBAAO,CAAC,CAAyB;;AAE7D;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4C;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;ACPA,qBAAqB,mBAAO,CAAC,EAAkB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;ACjBA,qBAAqB,mBAAO,CAAC,CAAkB;;AAE/C;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA,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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"immutable\"), require(\"braft-convert\"), require(\"react-dom\"), require(\"braft-finder\"), require(\"draftjs-utils\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"braft-utils\", \"draft-js\", \"immutable\", \"braft-convert\", \"react-dom\", \"braft-finder\", \"draftjs-utils\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"immutable\"), require(\"braft-convert\"), require(\"react-dom\"), require(\"braft-finder\"), require(\"draftjs-utils\")) : factory(root[\"react\"], root[\"braft-utils\"], root[\"draft-js\"], root[\"immutable\"], root[\"braft-convert\"], root[\"react-dom\"], root[\"braft-finder\"], root[\"draftjs-utils\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__13__, __WEBPACK_EXTERNAL_MODULE__14__, __WEBPACK_EXTERNAL_MODULE__15__, __WEBPACK_EXTERNAL_MODULE__17__, __WEBPACK_EXTERNAL_MODULE__19__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","module.exports = __WEBPACK_EXTERNAL_MODULE__15__;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = __WEBPACK_EXTERNAL_MODULE__17__;","var Immutable = require('immutable');\n\nvar KEY_SEPARATOR = '-';\n\nfunction MultiDecorator(decorators) {\n    this.decorators = Immutable.List(decorators);\n}\n\n/**\n    Return list of decoration IDs per character\n\n    @param {ContentBlock}\n    @return {List<String>}\n*/\nMultiDecorator.prototype.getDecorations = function(block) {\n    var decorations = Array(block.getText().length).fill(null);\n\n    this.decorators.forEach(function(decorator, i) {\n        var _decorations = decorator.getDecorations(block);\n\n        _decorations.forEach(function(key, offset) {\n            if (!key) {\n                return;\n            }\n\n            key = i + KEY_SEPARATOR + key;\n\n            decorations[offset] = key;\n        });\n    });\n\n    return Immutable.List(decorations);\n};\n\n/**\n    Return component to render a decoration\n\n    @param {String}\n    @return {Function}\n*/\nMultiDecorator.prototype.getComponentForKey = function(key) {\n    var decorator = this.getDecoratorForKey(key);\n    return decorator.getComponentForKey(\n        this.getInnerKey(key)\n    );\n};\n\n/**\n    Return props to render a decoration\n\n    @param {String}\n    @return {Object}\n*/\nMultiDecorator.prototype.getPropsForKey = function(key) {\n    var decorator = this.getDecoratorForKey(key);\n    return decorator.getPropsForKey(\n        this.getInnerKey(key)\n    );\n};\n\n/**\n    Return a decorator for a specific key\n\n    @param {String}\n    @return {Decorator}\n*/\nMultiDecorator.prototype.getDecoratorForKey = function(key) {\n    var parts = key.split(KEY_SEPARATOR);\n    var index = Number(parts[0]);\n\n    return this.decorators.get(index);\n};\n\n/**\n    Return inner key for a decorator\n\n    @param {String}\n    @return {String}\n*/\nMultiDecorator.prototype.getInnerKey = function(key) {\n    var parts = key.split(KEY_SEPARATOR);\n    return parts.slice(1).join(KEY_SEPARATOR);\n};\n\nmodule.exports = MultiDecorator;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","export default {\n  base: {\n    remove: 'Remove',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    inert: 'Insert',\n    width: 'Width',\n    height: 'Height'\n  },\n  controls: {\n    clear: 'Clear',\n    undo: 'Undo',\n    redo: 'Redo',\n    fontSize: 'Font Size',\n    color: 'Color',\n    textColor: 'Text',\n    tempColors: 'Temp Colors',\n    backgroundColor: 'Background',\n    bold: 'Bold',\n    lineHeight:'Line Height',\n    letterSpacing:'Letter Spacing',\n    textIndent:'Text Indent',\n    increaseIndent: 'Increase Indent',\n    decreaseIndent: 'Decrease Indent',\n    italic: 'Italic',\n    underline: 'Underline',\n    strikeThrough: 'Strike Through',\n    fontFamily: 'Font Family',\n    textAlign: 'Text Alignment',\n    alignLeft: 'Left Alignment',\n    alignCenter: 'Center Alignment',\n    alignRight: 'Right Alignment',\n    alignJustify: 'Justify Alignment',\n    floatLeft: 'Left Float',\n    floatRight: 'Right Float',\n    superScript: 'Super Script',\n    subScript: 'Sub Script',\n    removeStyles: 'Remove Styles',\n    headings: 'Headings',\n    header: 'Header',\n    normal: 'Normal',\n    orderedList: 'Ordered List',\n    unorderedList: 'Unordered List',\n    blockQuote: 'Quote',\n    code: 'Code',\n    link: 'Link',\n    unlink: 'Unlink',\n    hr: 'Horizontal Line',\n    media: 'Media',\n    mediaLibirary: 'Media Libirary',\n    emoji: 'Emoji'\n  },\n  linkEditor: {\n    inputPlaceHolder: 'Input link URL',\n    inputWithEnterPlaceHolder: 'Input link URL and press Enter',\n    openInNewWindow: 'Open in new window',\n    removeLink: 'Remove Link'\n  },\n  audioPlayer: {\n    title: 'Play Audio'\n  },\n  videoPlayer: {\n    title: 'Play Video',\n    embedTitle: 'Embed Media'\n  },\n  media: {\n    image: 'Image',\n    video: 'Video',\n    audio: 'Audio',\n    embed: 'Embed'\n  }\n}","export default {\n  base: {\n    remove: '删除',\n    cancel: '取消',\n    confirm: '确定',\n    inert: '插入',\n    width: '宽度',\n    height: '高度'\n  },\n  controls: {\n    clear: '清除内容',\n    undo: '撤销',\n    redo: '重做',\n    fontSize: '字号',\n    lineHeight: '行高',\n    letterSpacing: '字间距',\n    textIndent: '段落缩进',\n    increaseIndent: '增加缩进',\n    decreaseIndent: '减少缩进',\n    border: '边框',\n    color: '颜色',\n    textColor: '文字颜色',\n    backgroundColor: '背景颜色',\n    tempColors: '临时颜色',\n    bold: '加粗',\n    italic: '斜体',\n    underline: '下划线',\n    strikeThrough: '删除线',\n    fontFamily: '字体',\n    textAlign: '文本对齐',\n    alignLeft: '居左',\n    alignCenter: '居中',\n    alignRight: '居右',\n    alignJustify: '两端',\n    floatLeft: '左浮动',\n    floatRight: '右浮动',\n    superScript: '上标',\n    subScript: '下标',\n    removeStyles: '清除样式',\n    headings: '标题',\n    header: '标题',\n    normal: '常规',\n    orderedList: '有序列表',\n    unorderedList: '无序列表',\n    blockQuote: '引用',\n    code: '代码',\n    link: '链接',\n    unlink: '清除链接',\n    hr: '水平线',\n    media: '媒体',\n    mediaLibirary: '媒体库',\n    emoji: '小表情'\n  },\n  linkEditor: {\n    inputPlaceHolder: '输入链接地址',\n    inputWithEnterPlaceHolder: '输入链接地址并回车',\n    openInNewWindow: '在新窗口打开',\n    removeLink: '移除链接'\n  },\n  audioPlayer: {\n    title: '播放音频文件'\n  },\n  videoPlayer: {\n    title: '播放视频文件',\n    embedTitle: '嵌入式媒体'\n  },\n  media: {\n    image: '图像',\n    video: '视频',\n    audio: '音频',\n    embed: '嵌入式媒体'\n  }\n}","export default {\n  base: {\n    remove: '刪除',\n    cancel: '取消',\n    confirm: '確定',\n    inert: '插入',\n    width: '宽度',\n    height: '高度'\n  },\n  controls: {\n    clear: '清除内容',\n    undo: '撤銷',\n    redo: '重做',\n    fontSize: '字號',\n    color: '顏色',\n    textColor: '文字顏色',\n    backgroundColor: '背景顏色',\n    tempColors: '臨時顏色',\n    bold: '加粗',\n    lineHeight: '行高',\n    letterSpacing: '字間距',\n    textIndent: '段落縮進',\n    increaseIndent: '增加縮進',\n    decreaseIndent: '减少縮進',\n    border: '邊框',\n    italic: '斜體',\n    underline: '下劃線',\n    strikeThrough: '刪除線',\n    fontFamily: '字體',\n    textAlign: '文本對齊',\n    alignLeft: '居左',\n    alignCenter: '居中',\n    alignRight: '居右',\n    alignJustify: '兩端對齊',\n    floatLeft: '左浮動',\n    floatRight: '右浮動',\n    superScript: '上標',\n    subScript: '下標',\n    removeStyles: '清除样式',\n    headings: '標題',\n    header: '標題',\n    normal: '常規',\n    orderedList: '有序列表',\n    unorderedList: '無序列表',\n    blockQuote: '引用',\n    code: '代碼',\n    link: '鏈接',\n    unlink: '清除鏈接',\n    hr: '水平线',\n    media: '媒體',\n    mediaLibirary: '媒體库',\n    emoji: '小表情'\n  },\n  linkEditor: {\n    inputPlaceHolder: '輸入鏈接地址',\n    inputWithEnterPlaceHolder: '輸入鏈接地址並回車',\n    openInNewWindow: '在新窗口打開',\n    removeLink: '移除鏈接'\n  },\n  audioPlayer: {\n    title: '播放音頻文件'\n  },\n  videoPlayer: {\n    title: '播放視頻文件',\n    embedTitle: '嵌入式媒體'\n  },\n  media: {\n    image: '圖像',\n    video: '視頻',\n    audio: '音頻',\n    embed: '嵌入式媒體'\n  }\n}","import en from './en'\nimport zh from './zh'\nimport zhHant from './zh-hant'\n\nexport default {\n  'en': en,\n  'zh': zh,\n  'zh-hant': zhHant\n}","import { getDefaultKeyBinding, KeyBindingUtil } from 'draft-js'\n\n// TODO\n// 允许自定义的快捷键设置\n\nexport default (customKeyBindingFn) => (event) => {\n\n  if (event.keyCode === 83 && (KeyBindingUtil.hasCommandModifier(event) || KeyBindingUtil.isCtrlKeyCommand(event))) {\n    return 'braft-save'\n  }\n\n  if (customKeyBindingFn) {\n    return customKeyBindingFn(event) || getDefaultKeyBinding(event)\n  }\n\n  return getDefaultKeyBinding(event)\n\n}\n","export default {\n  language: 'zh',\n  controls: [\n    'undo', 'redo', 'separator',\n    'font-size', 'line-height', 'letter-spacing', 'separator',\n    'text-color', 'bold', 'italic', 'underline', 'strike-through', 'separator',\n    'superscript', 'subscript', 'remove-styles', 'emoji', 'separator',\n    'text-indent', 'text-align', 'separator',\n    'headings', 'list-ul', 'list-ol', 'blockquote', 'code', 'separator',\n    'media', 'link', 'split', 'hr', 'separator',\n    'clear'\n  ],\n  excludeControls: [],\n  extendControls: [],\n  extendAtomics: [],\n  componentBelowControlBar: null,\n  media: {\n    pasteImage: true,\n    imagePasteLimit: 5,\n    image: true,\n    video: true,\n    audio: true,\n    uploadFn: null,\n    validateFn: null,\n    onBeforeDeselect: null,\n    onDeselect: null,\n    onBeforeSelect: null,\n    onSelect: null,\n    onBeforeRemove: null,\n    onRemove: null,\n    onCancel: null,\n    onFileSelect: null,\n    onBeforeInsert: null,\n    onInsert: null,\n    onChange: null,\n    accepts: {\n      image: 'image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg',\n      video: 'video/mp4',\n      audio: 'audio/mp3'\n    },\n    externals: {\n      audio: true,\n      video: true,\n      image: true,\n      embed: true\n    },\n  },\n  imageControls: [\n    'float-left', 'float-right',\n    'align-left', 'align-center', 'align-right',\n    'link', 'size', 'remove'\n  ],\n  colors: [\n    '#000000', '#333333', '#666666', '#999999', '#cccccc', '#ffffff',\n    '#61a951', '#16a085', '#07a9fe', '#003ba5', '#8e44ad', '#f32784',\n    '#c0392b', '#d35400', '#f39c12', '#fdda00'\n  ],\n  colorPicker: null,\n  colorPickerTheme: 'dark',\n  colorPickerAutoHide: true,\n  codeTabIndents: 2,\n  textAligns: ['left', 'center', 'right', 'justify'],\n  textBackgroundColor: true,\n  defaultLinkTarget: '',\n  letterSpacings: [0, 1, 2, 3, 4, 5, 6],\n  lineHeights: [1, 1.2, 1.5, 1.75, 2, 2.5, 3, 4],\n  fontSizes: [\n    12, 14, 16, 18, 20, 24,\n    28, 30, 32, 36, 40, 48,\n    56, 64, 72, 96, 120, 144\n  ],\n  fontFamilies: [{\n    name: 'Araial',\n    family: 'Arial, Helvetica, sans-serif'\n  }, {\n    name: 'Georgia',\n    family: 'Georgia, serif'\n  }, {\n    name: 'Impact',\n    family: 'Impact, serif'\n  }, {\n    name: 'Monospace',\n    family: '\"Courier New\", Courier, monospace'\n  }, {\n    name: 'Tahoma',\n    family: 'tahoma, arial, \"Hiragino Sans GB\", 宋体, sans-serif'\n  }],\n  converts: {\n    unitExportFn: (value, type) => type === 'line-height' ? value : `${value}px`,\n  },\n  emojis: [\n    '🤣', '🙌', '💚', '💛', '👏', '😉', '💯',\n    '💕', '💞', '💘', '💙', '💝', '🖤', '💜',\n    '❤️', '😍', '😻', '💓', '💗', '😋', '😇',\n    '😂', '😹', '😘', '💖', '😁', '😀', '🤞',\n    '😲', '😄', '😊', '👍', '😌', '😃', '😅',\n    '✌️', '🤗', '💋', '😗', '😽', '😚', '🤠',\n    '😙', '😺', '👄', '😸', '😏', '😼', '👌',\n    '😎', '😆', '😛', '🙏', '🤝', '🙂', '🤑',\n    '😝', '😐', '😑', '🤤', '😤', '🙃', '🤡',\n    '😶', '😪', '😴', '😵', '😓', '👊', '😦',\n    '😷', '🤐', '😜', '🤓', '👻', '😥', '🙄',\n    '🤔', '🤒', '🙁', '😔', '😯', '☹️', '☠️',\n    '😰', '😩', '😖', '😕', '😒', '😣', '😢',\n    '😮', '😿', '🤧', '😫', '🤥', '😞', '😬',\n    '👎', '💀', '😳', '😨', '🤕', '🤢', '😱',\n    '😭', '😠', '😈', '😧', '💔', '😟', '🙀',\n    '💩', '👿', '😡', '😾', '🖕'\n  ],\n  stripPastedStyles: false,\n  className: '',\n  style: {},\n  controlBarClassName: '',\n  controlBarStyle: {},\n  contentClassName: '',\n  contentStyle: {},\n  draftProps: {},\n  hooks: {},\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onTab: null,\n  onDelete: null,\n  onSave: null\n}","import { ContentUtils, ColorUtils } from 'braft-utils'\nimport { handleNewLine } from 'draftjs-utils'\n\nexport const keyCommandHandlers = (command, editorState, editor) => {\n\n  if (editor.editorProps.handleKeyCommand && editor.editorProps.handleKeyCommand(command, editorState) === 'handled') {\n    return 'handled'\n  }\n\n  if (command === 'braft-save') {\n    editor.editorProps.onSave && editor.editorProps.onSave(editorState)\n    return 'handled'\n  }\n\n  const { controls, excludeControls } = editor.editorProps\n  const allowIndent = (controls.indexOf('text-indent') !== 0 || controls.find(item => item.key === 'text-indent')) && excludeControls.indexOf('text-indent') === -1\n  const cursorStart = editorState.getSelection().getStartOffset()\n  const cursorEnd = editorState.getSelection().getEndOffset()\n  const cursorIsAtFirst = cursorStart === 0 && cursorEnd === 0\n\n  if (command === 'backspace') {\n\n    if (editor.editorProps.onDelete && editor.editorProps.onDelete(editorState) === false) {\n      return 'handled'\n    }\n\n    const blockType = ContentUtils.getSelectionBlockType(editorState)\n\n    if (allowIndent && cursorIsAtFirst && blockType !== 'code-block') {\n      editor.setValue(ContentUtils.decreaseSelectionIndent(editorState))\n    }\n\n  }\n\n  if (command === 'tab') {\n\n    const blockType = ContentUtils.getSelectionBlockType(editorState)\n\n    if (blockType === 'code-block') {\n      editor.setValue(ContentUtils.insertText(editorState, ' '.repeat(editor.editorProps.codeTabIndents)))\n      return 'handled'\n    } else if (blockType !== 'atomic' && allowIndent && cursorIsAtFirst) {\n      editor.setValue(ContentUtils.increaseSelectionIndent(editorState))\n      return 'handled'\n    }\n\n  }\n\n  const nextEditorState = ContentUtils.handleKeyCommand(editorState, command)\n\n  if (nextEditorState) {\n    editor.setValue(nextEditorState)\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const returnHandlers = (event, editorState, editor) => {\n\n  if (editor.editorProps.handleReturn && editor.editorProps.handleReturn(event, editorState) === 'handled') {\n    return 'handled'\n  }\n\n  const currentBlock = ContentUtils.getSelectionBlock(editorState)\n  const currentBlockType = currentBlock.getType()\n\n  if (currentBlockType === 'unordered-list-item' || currentBlockType === 'ordered-list-item') {\n\n    if (currentBlock.getLength() === 0) {\n      editor.setValue(ContentUtils.toggleSelectionBlockType(editorState, 'unstyled'))\n      return 'handled'\n    }\n\n    return 'not-handled'\n\n  } else if (currentBlockType === 'code-block') {\n\n    if (\n      event.which === 13 && (\n        event.getModifierState('Shift') ||\n        event.getModifierState('Alt') ||\n        event.getModifierState('Control')\n      )) {\n      editor.setValue(ContentUtils.toggleSelectionBlockType(editorState, 'unstyled'))\n      return 'handled'\n    }\n\n    return 'not-handled'\n\n  }\n\n  const nextEditorState = handleNewLine(editorState, event)\n\n  if (nextEditorState) {\n    editor.setValue(nextEditorState)\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const beforeInputHandlers = (chars, editorState, editor) => {\n\n  if (editor.editorProps.handleBeforeInput && editor.editorProps.handleBeforeInput(chars, editorState) === 'handled') {\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const dropHandlers = (selectionState, dataTransfer, editor) => {\n\n  if (window && window.__BRAFT_DRAGING__IMAGE__) {\n\n    const editorState = ContentUtils.removeBlock(\n      ContentUtils.insertMedias(editorState, [window.__BRAFT_DRAGING__IMAGE__.mediaData]),\n      window.__BRAFT_DRAGING__IMAGE__.block, selectionState\n    )\n\n    window.__BRAFT_DRAGING__IMAGE__ = null\n\n    editor.setDraftProps({ readOnly: false })\n    editor.setValue(editorState)\n\n    return 'handled'\n\n  } else if (!dataTransfer || !dataTransfer.getText()) {\n    return 'handled'\n  }\n\n  return 'not-handled'\n\n}\n\nexport const handleFiles = (files, editor) => {\n\n  const { pasteImage, imagePasteLimit } = { ...editor.constructor.defaultProps.media, ...editor.editorProps.media }\n\n  pasteImage && files.slice(0, imagePasteLimit).forEach((file) => {\n    file && file.type.indexOf('image') > -1 && editor.braftFinder.uploadImage(file, image => {\n      editor.isLiving && editor.setValue(ContentUtils.insertMedias(editor.state.editorState, [image]))\n    })\n  })\n\n  if (files[0] && files[0].type.indexOf('image') > -1 && pasteImage) {\n    return 'handled'\n  }\n\n  return 'not-handled'\n  \n}\n\nexport const droppedFilesHandlers = (selectionState, files, editor) => {\n\n  if (editor.editorProps.handleDroppedFiles && editor.editorProps.handleDroppedFiles(selectionState, files) === 'handled') {\n    return 'handled'\n  }\n\n  return handleFiles(files, editor)\n\n}\n\nexport const pastedFilesHandlers = (files, editor) => {\n\n  if (editor.editorProps.handlePastedFiles && editor.editorProps.handlePastedFiles(files) === 'handled') {\n    return 'handled'\n  }\n\n  return handleFiles(files, editor)\n\n}\n\nexport const pastedTextHandlers = (text, html, editorState, editor) => {\n\n  if (editor.editorProps.handlePastedText && editor.editorProps.handlePastedText(text, html, editorState) === 'handled') {\n    return 'handled'\n  }\n\n  if (!html || editor.editorProps.stripPastedStyles) {\n    return false\n  }\n\n  const tempColors = ColorUtils.detectColorsFromHTMLString(html)\n\n  editor.setState({\n    tempColors: [...editor.state.tempColors, ...tempColors].filter(item => editor.editorProps.colors.indexOf(item) === -1).filter((item, index, array) => array.indexOf(item) === index)\n  }, () => {\n    editor.setValue(ContentUtils.insertHTML(editorState, html, 'paste'))\n  })\n\n  return 'handled'\n\n}","// TODO\n// - block-style和atomic类型的扩展支持\n\nimport React from 'react'\n\nconst extensionControls = []\nconst extensionDecorators = []\n\nconst propInterceptors = []\n\nconst extensionBlockRenderMaps = []\nconst extensionBlockRendererFns= []\n\nconst extensionInlineStyleMaps = []\nconst extensionInlineStyleFns = []\n\nconst extensionEntities = []\n\nconst inlineStyleImporters = []\nconst inlineStyleExporters = []\nconst blockImporters = []\nconst blockExporters = []\n\nconst filterByEditorId = (items, editorId) => {\n\n  if (!editorId) {\n    return items.filter(item => !item.includeEditors).map(item => item.data)\n  }\n\n  return items.map(item => {\n\n    if (!item.includeEditors && !item.excludeEditors) {\n      return item.data\n    }\n\n    if (item.includeEditors) {\n      return item.includeEditors.indexOf(editorId) !== -1 ? item.data : false\n    }\n\n    if (item.excludeEditors) {\n      return item.excludeEditors.indexOf(editorId) !== -1 ? false : item.data\n    }\n\n    return false\n\n  }).filter(item => item)\n\n}\n\nexport const getPropInterceptors = (editorId) => filterByEditorId(propInterceptors, editorId)\n\nexport const getExtensionControls = (editorId) => filterByEditorId(extensionControls, editorId)\n\nexport const getExtensionDecorators = (editorId) => filterByEditorId(extensionDecorators, editorId, 'decorators')\n\nexport const getExtensionBlockRenderMaps = (editorId) => filterByEditorId(extensionBlockRenderMaps, editorId)\n\nexport const getExtensionBlockRendererFns = (editorId) => filterByEditorId(extensionBlockRendererFns, editorId)\n\nexport const getExtensionInlineStyleMap = (editorId) => {\n\n  let inlineStyleMap = {}\n\n  filterByEditorId(extensionInlineStyleMaps, editorId).forEach(item => {\n    inlineStyleMap[item.inlineStyleName] = item.styleMap\n  })\n\n  return inlineStyleMap\n\n}\n\nexport const getExtensionInlineStyleFns = (editorId) => filterByEditorId(extensionInlineStyleFns, editorId)\n\nexport const compositeStyleImportFn = (styleImportFn, editorId) => (nodeName, node, style) => {\n\n  filterByEditorId(inlineStyleImporters, editorId).forEach(styleImporter => {\n    if (styleImporter.importer && styleImporter.importer(nodeName, node)) {\n      style = style.add(styleImporter.inlineStyleName)\n    }\n  })\n\n  return styleImportFn ? styleImportFn(nodeName, node, style) : style\n\n}\n\nexport const compositeStyleExportFn = (styleExportFn, editorId) => (style) => {\n\n  style = style.toUpperCase()\n  let result = styleExportFn ? styleExportFn(style) : undefined\n\n  if (result) {\n    return result\n  }\n\n  filterByEditorId(inlineStyleExporters, editorId).find((item) => {\n    if (item.inlineStyleName === style) {\n      result = item.exporter\n      return true\n    }\n  })\n\n  return result\n\n}\n\nexport const compositeEntityImportFn = (entityImportFn, editorId) => (nodeName, node, createEntity, source) => {\n\n  let result = entityImportFn ? entityImportFn(nodeName, node, createEntity, source) : null\n\n  if (result) {\n    return result\n  }\n\n  filterByEditorId(extensionEntities, editorId).find(entityItem => {\n    const matched = entityItem.importer ? entityItem.importer(nodeName, node, source) : null\n    matched && (result = createEntity(entityItem.entityType, matched.mutability || 'MUTABLE', matched.data || {}))\n    return !!matched\n  })\n\n  return result\n\n}\n\nexport const compositeEntityExportFn = (entityExportFn, editorId) => (entity, originalText) => {\n\n  let result = entityExportFn ? entityExportFn(entity, originalText) : undefined\n\n  if (result) {\n    return result\n  }\n\n  const entityType = entity.type.toUpperCase()\n\n  filterByEditorId(extensionEntities, editorId).find(entityItem => {\n    if (entityItem.entityType === entityType) {\n      result = entityItem.exporter ? entityItem.exporter(entity, originalText) : undefined\n      return true\n    }\n  })\n\n  return result\n\n}\n\nexport const compositeBlockImportFn = (blockImportFn, editorId) => (nodeName, node, source) => {\n\n  let result = blockImportFn ? blockImportFn(nodeName, node, source) : null\n\n  if (result) {\n    return result\n  }\n\n  filterByEditorId(blockImporters, editorId).find(blockImporter => {\n    const matched = blockImporter.importer ? blockImporter.importer(nodeName, node, source) : undefined\n    matched && (result = matched)\n    return !!matched\n  })\n\n  return result\n\n}\n\nexport const compositeBlockExportFn = (blockExportFn, editorId) => (contentState, block) => {\n\n  let result = blockExportFn ? blockExportFn(contentState, block) : null\n\n  if (result) {\n    return result\n  }\n\n  filterByEditorId(blockExporters, editorId).find(blockExporter => {\n    const matched = blockExporter.exporter ? blockExporter.exporter(contentState, block) : undefined\n    matched && (result = matched)\n    return !!matched\n  })\n\n  return result\n\n}\n\nconst useExtension = (extension) => {\n\n  if (extension instanceof Array) {\n    extension.forEach(useExtension)\n    return false\n  }\n\n  if(!extension || !extension.type || typeof extension.type !== 'string') {\n    return false\n  }\n\n  const { includeEditors, excludeEditors } = extension\n\n  if (extension.type === 'control') {\n\n    extensionControls.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: extension.control\n    })\n\n  } else if (extension.type === 'inline-style') {\n\n    const inlineStyleName = extension.name.toUpperCase()\n\n    if (extension.control) {\n      extensionControls.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          key: inlineStyleName,\n          type: 'inline-style',\n          command: inlineStyleName,\n          ...extension.control\n        }\n      })\n    }\n\n    if (extension.style) {\n      extensionInlineStyleMaps.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          inlineStyleName: inlineStyleName,\n          styleMap: extension.style\n        }\n      })\n    }\n\n    if (extension.styleFn) {\n      extensionInlineStyleFns.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          inlineStyleName: inlineStyleName,\n          styleFn: extension.styleFn\n        }\n      })\n    }\n\n    if (extension.importer) {\n      inlineStyleImporters.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          inlineStyleName: inlineStyleName,\n          importer: extension.importer\n        }\n      })\n    }\n\n    inlineStyleExporters.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: {\n        inlineStyleName: inlineStyleName,\n        exporter: extension.exporter ? extension.exporter(extension) : <span style={extension.style}/>\n      }\n    })\n\n  } else if (extension.type === 'block-style') {\n    // TODO\n  } else if (extension.type === 'entity') {\n\n    const entityType = extension.name.toUpperCase()\n\n    if (extension.control) {\n      extensionControls.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          key: entityType,\n          type: 'entity',\n          command: entityType,\n          data: {\n            mutability: extension.mutability || 'MUTABLE',\n            data: extension.data || {},\n          },\n          ...extension.control\n        }\n      })\n    }\n\n    extensionEntities.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: {\n        entityType: entityType,\n        importer: extension.importer,\n        exporter: extension.exporter\n      }\n    })\n\n    extensionDecorators.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: {\n        type: 'entity',\n        decorator: {\n          key: entityType,\n          component: extension.component\n        }\n      }\n    })\n\n  } else if (extension.type === 'block') {\n\n    const blockType = extension.name\n\n    if (extension.renderMap) {\n      extensionBlockRenderMaps.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          blockType: blockType,\n          renderMap: extension.renderMap\n        }\n      })\n    }\n\n    if (extension.rendererFn) {\n      extensionBlockRendererFns.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          blockType: blockType,\n          rendererFn: extension.rendererFn\n        }\n      })\n    }\n\n    if (extension.importer) {\n      blockImporters.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          blockType: blockType,\n          importer: extension.importer\n        }\n      })\n    }\n\n    if (extension.exporter) {\n      blockExporters.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          blockType: blockType,\n          exporter: extension.exporter\n        }\n      })\n    }\n\n  } else if (extension.type === 'atomic') {\n    // TODO\n  } else if (extension.type === 'decorator') {\n\n    const { decorator } = extension\n\n    if (decorator && decorator.strategy && decorator.component) {\n      extensionDecorators.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          type: 'strategy',\n          decorator: decorator\n        }\n      })\n    } else if (decorator && decorator.getDecorations) {\n      extensionDecorators.push({\n        includeEditors: includeEditors,\n        excludeEditors: excludeEditors,\n        data: {\n          type: 'class',\n          decorator: decorator\n        }\n      })\n    }\n\n  } else if (extension.type === 'prop-interception') {\n\n    propInterceptors.push({\n      includeEditors: includeEditors,\n      excludeEditors: excludeEditors,\n      data: extension.interceptor\n    })\n\n  }\n\n}\n\nexport const createExtensibleEditor = (BraftEditor) => {\n\n  BraftEditor.use = useExtension\n\n  return BraftEditor\n\n}","import React from 'react'\nimport { Map } from 'immutable'\nimport { DefaultDraftBlockRenderMap } from 'draft-js'\nimport { getExtensionBlockRenderMaps } from 'helpers/extension'\n\nexport default (props, blockRenderMap) => {\n\n  let customBlockRenderMap = Map({\n    'atomic': {\n      element: ''\n    },\n    'code-block': {\n      element: 'code',\n      wrapper: <pre className=\"braft-code-block\"/>\n    }\n  })\n\n  const extensionBlockRenderMaps = getExtensionBlockRenderMaps(props.editorId)\n\n  extensionBlockRenderMaps.forEach(item => {\n    if (typeof item.renderMap === 'function') {\n      customBlockRenderMap = customBlockRenderMap.merge(item.renderMap(props))\n    } else if (item.renderMap instanceof Map) {\n      customBlockRenderMap = customBlockRenderMap.merge(item.renderMap)\n    }\n  })\n\n  if (blockRenderMap && blockRenderMap instanceof Map) {\n    customBlockRenderMap = customBlockRenderMap.merge(blockRenderMap)\n  }\n\n  customBlockRenderMap = DefaultDraftBlockRenderMap.merge(customBlockRenderMap)\n\n  return customBlockRenderMap\n\n}","import './style.scss'\nimport React from 'react'\n\nexport default (props) => {\n\n  const { active, onClick, className } = props\n\n  return (\n    <div onClick={() => onClick()} className={'bf-switch ' + className + (active ? ' active' : '')}></div>\n  )\n\n}\n","import React from 'react'\n\nexport default (lang) => [\n  {\n    key: 'undo',\n    title: lang.controls.undo,\n    text: <i className=\"bfi-undo\"></i>,\n    type: 'editor-method',\n    command: 'undo'\n  }, {\n    key: 'redo',\n    title: lang.controls.redo,\n    text: <i className=\"bfi-redo\"></i>,\n    type: 'editor-method',\n    command: 'redo'\n  }, {\n    key: 'remove-styles',\n    title: lang.controls.removeStyles,\n    text: <i className=\"bfi-format_clear\"></i>,\n    type: 'editor-method',\n    command: 'removeSelectionInlineStyles'\n  }, {\n    key: 'hr',\n    title: lang.controls.hr,\n    text: <i className=\"bfi-hr\"></i>,\n    type: 'editor-method',\n    command: 'insertHorizontalLine'\n  }, {\n    key: 'bold',\n    title: lang.controls.bold,\n    text: <i className=\"bfi-bold\"></i>,\n    type: 'inline-style',\n    command: 'bold'\n  }, {\n    key: 'italic',\n    title: lang.controls.italic,\n    text: <i className=\"bfi-italic\"></i>,\n    type: 'inline-style',\n    command: 'italic'\n  }, {\n    key: 'underline',\n    title: lang.controls.underline,\n    text: <i className=\"bfi-underlined\"></i>,\n    type: 'inline-style',\n    command: 'underline'\n  }, {\n    key: 'strike-through',\n    title: lang.controls.strikeThrough,\n    text: <i className=\"bfi-strikethrough\"></i>,\n    type: 'inline-style',\n    command: 'strikethrough',\n  }, {\n    key: 'superscript',\n    title: lang.controls.superScript,\n    text: <i className=\"bfi-superscript\"></i>,\n    type: 'inline-style',\n    command: 'superscript'\n  }, {\n    key: 'subscript',\n    title: lang.controls.subScript,\n    text: <i className=\"bfi-subscript\"></i>,\n    type: 'inline-style',\n    command: 'subscript'\n  }, {\n    key: 'headings',\n    title: lang.controls.headings,\n    type: 'headings',\n  }, {\n    key: 'blockquote',\n    title: lang.controls.blockQuote,\n    text: <i className=\"bfi-quote\"></i>,\n    type: 'block-type',\n    command: 'blockquote',\n  }, {\n    key: 'code',\n    title: lang.controls.code,\n    text: <i className=\"bfi-code\"></i>,\n    type: 'block-type',\n    command: 'code-block'\n  }, {\n    key: 'list-ul',\n    title: lang.controls.unorderedList,\n    text: <i className=\"bfi-list\"></i>,\n    type: 'block-type',\n    command: 'unordered-list-item'\n  }, {\n    key: 'list-ol',\n    title: lang.controls.orderedList,\n    text: <i className=\"bfi-list-numbered\"></i>,\n    type: 'block-type',\n    command: 'ordered-list-item'\n  }, {\n    key: 'link',\n    title: lang.controls.link,\n    type: 'link'\n  }, {\n    key: 'text-color',\n    title: lang.controls.color,\n    type: 'text-color'\n  }, {\n    key: 'line-height',\n    title: lang.controls.lineHeight, \n    type: 'line-height'\n  }, {\n    key: 'letter-spacing',\n    title: lang.controls.letterSpacing,\n    type: 'letter-spacing'\n  }, {\n    key: 'text-indent',\n    title: lang.controls.textIndent,\n    type: 'text-indent'\n  },{\n    key: 'font-size',\n    title: lang.controls.fontSize,\n    type: 'font-size'\n  }, {\n    key: 'font-family',\n    title: lang.controls.fontFamily,\n    type: 'font-family'\n  }, {\n    key: 'text-align',\n    title: lang.controls.textAlign,\n    type: 'text-align'\n  }, {\n    key: 'media',\n    title: lang.controls.media,\n    text: <i className=\"bfi-media\"></i>,\n    type: 'media'\n  }, {\n    key: 'emoji',\n    title: lang.controls.emoji,\n    text: <i className=\"bfi-emoji\"></i>,\n    type: 'emoji'\n  }, {\n    key: 'clear',\n    title: lang.controls.clear,\n    text: <i className=\"bfi-clear_all\"></i>,\n    type: 'editor-method',\n    command: 'clearEditorContent'\n  }, {\n    key: 'modal',\n    type: 'modal',\n  }, {\n    key: 'button',\n    type: 'button',\n  }, {\n    key: 'dropdown',\n    type: 'dropdown',\n  }, {\n    key: 'component',\n    type: 'component',\n  }\n]\n\nexport const imageControlItems = {\n  'float-left': {\n    text: <span data-float=\"left\">&#xe91e;</span>,\n    command: 'setImageFloat|left'\n  },\n  'float-right': {\n    text: <span data-float=\"right\">&#xe914;</span>,\n    command: 'setImageFloat|right'\n  },\n  'align-left': {\n    text: <span data-align=\"left\">&#xe027;</span>,\n    command: 'setImageAlignment|left'\n  },\n  'align-center': {\n    text: <span data-align=\"center\">&#xe028;</span>,\n    command: 'setImageAlignment|center'\n  },\n  'align-right': {\n    text: <span data-align=\"right\">&#xe029;</span>,\n    command: 'setImageAlignment|right'\n  },\n  'size': {\n    text: <span>&#xe3c2;</span>,\n    command: 'toggleSizeEditor'\n  },\n  'link': {\n    text: <span>&#xe91a;</span>,\n    command: 'toggleLinkEditor'\n  },\n  'remove': {\n    text: <span>&#xe9ac;</span>,\n    command: 'removeImage'\n  }\n}","import './style.scss'\nimport React from 'react'\nimport { ContentUtils } from 'braft-utils'\nimport Switch from 'components/common/Switch'\nimport { imageControlItems } from 'configs/controls'\n\nexport default class Image extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n    toolbarOffset: 0,\n    linkEditorVisible: false,\n    sizeEditorVisible: false,\n    tempLink: null,\n    tempWidth: null,\n    tempHeight: null\n  }\n\n  render () {\n\n    const { mediaData, language, imageControls } = this.props\n    const { toolbarVisible, toolbarOffset, linkEditorVisible, sizeEditorVisible } = this.state\n    const blockData = this.props.block.getData()\n\n    let float = blockData.get('float')\n    let alignment = blockData.get('alignment')\n    let { src, url, link, link_target, width, height } = mediaData\n    let imageStyles = {}\n    let clearFix = false\n\n    if (float) {\n      alignment = null\n    } else if (alignment === 'left') {\n      imageStyles.float = 'left'\n      clearFix = true\n    } else if (alignment === 'right') {\n      imageStyles.float = 'right'\n      clearFix = true\n    } else if (alignment === 'center') {\n      imageStyles.textAlign = 'center'\n    } else {\n      imageStyles.float = 'left'\n      clearFix = true\n    }\n\n    const renderedControlItems = imageControls.map((item, index) => {\n\n      if (typeof item === 'string' && imageControlItems[item]) {\n        return (\n          <a className={item === 'link' && link ? 'active' : ''} key={index} href='javascript:void(0);' onClick={() => this.executeCommand(imageControlItems[item].command)}>\n            {imageControlItems[item].text}\n          </a>\n        )\n      } else if (item && item.onClick && (item.render || item.text)) {\n        return (\n          <a key={index} href='javascript:void(0);' onClick={() => this.executeCommand(item.onClick)}>\n            {item.render ? item.render(mediaData) : item.text}\n          </a>\n        )\n      } else {\n        return null\n      }\n\n    })\n\n    return (\n      <div className='bf-media'>\n        <div\n          style={imageStyles}\n          draggable={true}\n          onMouseEnter={this.showToolbar}\n          onMouseMove={this.showToolbar}\n          onMouseLeave={this.hideToolbar}\n          onDragStart={this.handleDragStart}\n          onDragEnd={this.handleDragEnd}\n          ref={instance => this.mediaEmbederInstance = instance}\n          className='bf-image'\n        >\n          {toolbarVisible ? (\n            <div\n              style={{marginLeft: toolbarOffset}}\n              ref={instance => this.toolbarElement = instance}\n              data-float={float}\n              data-align={alignment}\n              className='bf-media-toolbar'\n            >\n              {linkEditorVisible ? (\n                <div className='bf-image-link-editor'>\n                  <div className='editor-input-group'>\n                    <input type='text' placeholder={language.linkEditor.inputWithEnterPlaceHolder} onKeyDown={this.handleLinkInputKeyDown} onChange={this.setImageLink} defaultValue={link}/>\n                    <button type='button' onClick={this.confirmImageLink}>{language.base.confirm}</button>\n                  </div>\n                  <div className='switch-group'>\n                    <Switch\n                      active={link_target === '_blank'}\n                      onClick={() => this.setImageLinkTarget(link_target)}\n                    />\n                    <label>{language.linkEditor.openInNewWindow}</label>\n                  </div>\n                </div>\n              ) : null}\n              {sizeEditorVisible ? (\n                <div className='bf-image-size-editor'>\n                  <div className='editor-input-group'>\n                    <input type='text' placeholder={language.base.width} onKeyDown={this.handleSizeInputKeyDown} onChange={this.setImageWidth} defaultValue={width}/>\n                    <input type='text' placeholder={language.base.height} onKeyDown={this.handleSizeInputKeyDown} onChange={this.setImageHeight} defaultValue={height}/>\n                    <button type='button' onClick={this.confirmImageSize}>{language.base.confirm}</button>\n                  </div>\n                </div>\n              ) : null}\n              {renderedControlItems}\n              <i style={{marginLeft: toolbarOffset * -1}} className='bf-media-toolbar-arrow'></i>\n            </div>\n          ) : null}\n          <img\n            ref={instance => this.imageElement = instance}\n            src={src || url} style={{width, height}} width={width} height={height}\n          />\n        </div>\n        {clearFix && <div className='clearfix' style={{clear:'both',height:0,lineHeight:0,float:'none'}}></div>}\n      </div>\n    )\n\n  }\n\n  calcToolbarOffset () {\n\n    if (!this.props.containerNode) {\n      return 0\n    }\n\n    const viewRect = this.props.containerNode.getBoundingClientRect()\n    const toolbarRect = this.toolbarElement.getBoundingClientRect()\n    const imageRect = this.imageElement.getBoundingClientRect()\n\n    const right = viewRect.right - (imageRect.right - imageRect.width / 2 + toolbarRect.width / 2)\n    const left = (imageRect.left + imageRect.width / 2 - toolbarRect.width / 2) - viewRect.left\n\n    if (right < 10) {\n      return right - 10\n    } else if (left < 10) {\n      return left * -1 + 10\n    } else {\n      return 0\n    }\n\n  }\n\n  handleDragStart = () => {\n\n    window.__BRAFT_DRAGING__IMAGE__ = {\n      block: this.props.block,\n      mediaData: {\n        type: 'IMAGE',\n        ...this.props.mediaData\n      }\n    }\n\n    this.setState({\n      toolbarVisible: false\n    }, () => {\n      this.props.editor.setDraftProps({ readOnly: false })\n    })\n\n    return true\n\n  }\n\n  handleDragEnd = () => {\n\n    window.__BRAFT_DRAGING__IMAGE__ = null\n    return false\n\n  }\n\n  executeCommand = (command) => {\n    if (typeof command === 'string') {\n      const [method, param] = command.split('|')\n      this[method] && this[method](param)\n    } else if (typeof command === 'function') {\n      command(this.props.block, this.props.editorState)\n    }\n  }\n\n  removeImage = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n    this.props.editor.setDraftProps({ readOnly: false })\n  }\n\n  toggleLinkEditor = () => {\n    this.setState({\n      linkEditorVisible: !this.state.linkEditorVisible,\n      sizeEditorVisible: false\n    })\n  }\n\n  toggleSizeEditor = () => {\n    this.setState({\n      linkEditorVisible: false,\n      sizeEditorVisible: !this.state.sizeEditorVisible\n    })\n  }\n\n  handleLinkInputKeyDown = (e) => {\n\n    if (e.keyCode === 13) {\n      this.confirmImageLink()\n    } else {\n      return\n    }\n\n  }\n\n  setImageLink = (e) => {\n    this.setState({ tempLink: e.currentTarget.value })\n    return\n  }\n\n  setImageLinkTarget (link_target) {\n\n    link_target = link_target === '_blank' ? '' : '_blank'\n    this.props.editor.setValue(ContentUtils.setMediaData(this.props.editorState, this.props.entityKey, { link_target }))\n    window.setImmediate(this.props.editor.forceRender)\n\n  }\n\n  confirmImageLink = () => {\n\n    const { tempLink: link } = this.state\n\n    if (link !== null) {\n      this.props.editor.setValue(ContentUtils.setMediaData(this.props.editorState, this.props.entityKey, { link }))\n      window.setImmediate(this.props.editor.forceRender)\n    }\n\n  }\n\n  handleSizeInputKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      this.confirmImageSize()\n    } else {\n      return\n    }\n  }\n\n  setImageWidth = ({ currentTarget }) => {\n\n    let { value } = currentTarget\n\n    value && !isNaN(value) && (value = value + 'px')\n\n    this.setState({\n      tempWidth: value\n    })\n\n    return\n\n  }\n\n  setImageHeight = ({ currentTarget }) => {\n\n    let { value } = currentTarget\n\n    value && !isNaN(value) && (value = value + 'px')\n\n    this.setState({\n      tempHeight: value\n    })\n\n    return\n\n  }\n\n  confirmImageSize = () => {\n\n    const { tempWidth: width, tempHeight: height } = this.state\n    const newImageSize = {}\n\n    width !== null && (newImageSize.width = width)\n    height !== null && (newImageSize.height = height)\n\n    this.props.editor.setValue(ContentUtils.setMediaData(this.props.editorState, this.props.entityKey, newImageSize))\n    window.setImmediate(this.props.editor.forceRender)\n\n  }\n\n  setImageFloat = (float) => {\n    this.props.editor.setValue(ContentUtils.setMediaPosition(this.props.editorState, this.props.block, { float }))\n    this.props.editor.setDraftProps({ readOnly: false })\n  }\n\n  setImageAlignment = (alignment) => {\n    this.props.editor.setValue(ContentUtils.setMediaPosition(this.props.editorState, this.props.block, { alignment }))\n    this.props.editor.setDraftProps({ readOnly: false })\n  }\n\n  showToolbar = (event) => {\n\n    event.preventDefault()\n\n    if (!this.state.toolbarVisible) {\n      this.setState({\n        toolbarVisible: true\n      }, () => {\n        this.props.editor.setDraftProps({ readOnly: true })\n        this.setState({ toolbarOffset: this.calcToolbarOffset() })\n      })\n    }\n\n  }\n\n  hideToolbar = (event) => {\n\n    event.preventDefault()\n\n    this.setState({\n      toolbarVisible: false\n    }, () => {\n      this.props.editor.setDraftProps({ readOnly: false })\n      this.props.editor.requestFocus()\n    })\n\n  }\n\n}","import React from 'react'\n\nexport default class extends React.Component {\n\n  shouldComponentUpdate () {\n    return false\n  }\n\n  render () {\n    return <div>{this.props.children}</div>\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport StaticContainer from 'components/common/StaticContainer'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Video extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n  }\n\n  render () {\n\n    const { toolbarVisible } = this.state\n    const { mediaData } = this.props\n    const { src, url, meta } = mediaData\n\n    return (\n      <div\n        className='bf-video-wrap'\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        <StaticContainer>\n          <video controls src={src || url} poster={meta ? meta.poster || '' : ''}/>\n        </StaticContainer>\n        {toolbarVisible ? (\n          <div className='bf-media-toolbar'>\n            <a onClick={this.removeVideo}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  removeVideo = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport StaticContainer from 'components/common/StaticContainer'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Audio extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n  }\n\n  render () {\n\n    const { toolbarVisible } = this.state\n    const { mediaData } = this.props\n    const { src, url } = mediaData\n\n    return (\n      <div\n        className='bf-audio'\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        <StaticContainer>\n          <audio controls src={src || url}/>\n        </StaticContainer>\n        {toolbarVisible ? (\n          <div className='bf-media-toolbar'>\n            <a onClick={this.removeAudio}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  removeAudio = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport StaticContainer from 'components/common/StaticContainer'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class Embed extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n  }\n\n  render () {\n\n    const { toolbarVisible } = this.state\n    const { mediaData } = this.props\n    const { src, url } = mediaData\n\n    return (\n      <div\n        className='bf-embed'\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        <StaticContainer>\n          <div className='bf-embed-player' dangerouslySetInnerHTML={{ __html: src || url}}></div>\n        </StaticContainer>\n        {toolbarVisible ? (\n          <div className='bf-media-toolbar'>\n            <a onClick={this.removeEmbed}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  removeEmbed = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\nimport './style.scss'\n\nexport default class HorizontalLine extends React.Component {\n\n  render () {\n\n    return (\n      <div className='bf-hr'>\n        <div className='bf-media-toolbar'>\n          <a onClick={this.removeHorizontalLine}>&#xe9ac;</a>\n        </div>\n      </div>\n    )\n\n  }\n\n  removeHorizontalLine = () => {\n    this.props.editor.setValue(ContentUtils.removeBlock(this.props.editorState, this.props.block))\n  }\n\n}","import React from 'react'\nimport Image from 'renderers/atomics/Image'\nimport Video from 'renderers/atomics/Video'\nimport Audio from 'renderers/atomics/Audio'\nimport Embed from 'renderers/atomics/Embed'\nimport HorizontalLine from 'renderers/atomics/HorizontalLine'\nimport { getExtensionBlockRendererFns } from 'helpers/extension'\n\nconst getAtomicBlockComponent = (superProps) => (props) => {\n\n  const entityKey = props.block.getEntityAt(0)\n\n  if (!entityKey) {\n    return null\n  }\n\n  const entity = props.contentState.getEntity(entityKey)\n  const mediaData = entity.getData()\n  const mediaType = entity.getType()\n  const mediaProps = {\n    ...superProps,\n    block: props.block,\n    mediaData, entityKey\n  }\n\n  if (mediaType === 'IMAGE') {\n    return <Image { ...mediaProps } />\n  } else if (mediaType === 'AUDIO') {\n    return <Audio { ...mediaProps } />\n  } else if (mediaType === 'VIDEO') {\n    return <Video { ...mediaProps } />\n  } else if (mediaType === 'EMBED') {\n    return <Embed { ...mediaProps } />\n  } else if (mediaType === 'HR') {\n    return <HorizontalLine { ...mediaProps } />\n  }\n\n  if (superProps.extendAtomics) {\n    const atomics = superProps.extendAtomics\n    for (let i = 0; i < atomics.length; i++) {\n      if (mediaType === atomics[i].type) {\n        const Component = atomics[i].component\n        return <Component {...mediaProps} />\n      }\n    }\n  }\n\n  return null\n\n}\n\nexport default (superProps, customBlockRendererFn) => (block) => {\n\n  const blockType = block.getType()\n  let blockRenderer = null\n\n  if (customBlockRendererFn) {\n    blockRenderer = customBlockRendererFn(superProps) || null\n  }\n\n  if (blockRenderer) {\n    return blockRenderer\n  }\n\n  const extensionBlockRendererFns = getExtensionBlockRendererFns(superProps.editorId)\n\n  extensionBlockRendererFns.find(item => {\n    if (item.blockType === blockType) {\n      blockRenderer = item.rendererFn ? item.rendererFn(superProps) : null\n      return true\n    }\n  })\n\n  if (blockRenderer) {\n    return blockRenderer\n  }\n\n  if (blockType === 'atomic') {\n    blockRenderer = {\n      component: getAtomicBlockComponent(superProps),\n      editable: false\n    }\n  }\n\n  return blockRenderer\n\n}","export default (customBlockStyleFn) => (block) => {\n\n  const blockAlignment = block.getData() && block.getData().get('textAlign')\n  const blockIndent = block.getData() && block.getData().get('textIndent')\n  const blockFloat = block.getData() && block.getData().get('float')\n\n  let result = ''\n\n  if (blockAlignment) {\n    result = `bfa-${blockAlignment}`\n  }\n\n  if (blockIndent && blockIndent !== 0) {\n    result += ` bftd-${blockIndent}`\n  }\n\n  if (blockFloat) {\n    result += ` bff-${blockFloat}`\n  }\n\n  if (customBlockStyleFn) {\n    result += (customBlockStyleFn(block) || '')\n  }\n\n  return result\n\n}","import { getExtensionInlineStyleMap } from 'helpers/extension'\n\nexport default (props, customStyleMap = {}) => {\n\n  const extensionInlineStyleMap = getExtensionInlineStyleMap(props.editorId)\n\n  return {\n    'SUPERSCRIPT': {\n      position: 'relative',\n      top: '-8px',\n      fontSize: '11px'\n    },\n    'SUBSCRIPT': {\n      position: 'relative',\n      bottom: '-8px',\n      fontSize: '11px'\n    },\n    ...extensionInlineStyleMap,\n    ...customStyleMap\n  }\n\n}","import { getExtensionInlineStyleFns } from 'helpers/extension'\n\nconst getStyleValue = (style) => style.split('-')[1]\n\nexport default (props, options) => (styles, block) => {\n\n  let output = {}\n  const { fontFamilies, unitExportFn, customStyleFn } = options\n\n  const extensionInlineStyleFns = getExtensionInlineStyleFns(props.editorId)\n\n  extensionInlineStyleFns.forEach(item => {\n    output = item.styleFn ? item.styleFn(styles, block, output) : output\n  })\n\n  output = customStyleFn ? customStyleFn(styles, block, output) : {}\n\n  styles.forEach((style) => {\n\n    if (style.indexOf('COLOR-') === 0) {\n      output.color = '#' + getStyleValue(style)\n    } else if (style.indexOf('BGCOLOR-') === 0) {\n      output.backgroundColor = '#' + getStyleValue(style)\n    } else if (style.indexOf('FONTSIZE-') === 0) {\n      output.fontSize = unitExportFn(getStyleValue(style), 'font-size', 'editor')\n    } else if (style.indexOf('LINEHEIGHT-') === 0) {\n      output.lineHeight = unitExportFn(getStyleValue(style), 'line-height', 'editor')\n    } else if (style.indexOf('LETTERSPACING-') === 0) {\n      output.letterSpacing = unitExportFn(getStyleValue(style), 'letter-spacing', 'editor')\n    } else if (style.indexOf('TEXTINDENT-') === 0) {\n      output.textIndent = unitExportFn(getStyleValue(style), 'text-indent', 'editor')\n    } else if (style.indexOf('FONTFAMILY-') === 0) {\n      output.fontFamily = (fontFamilies.find(item => item.name === getStyleValue(style)) || {}).family || ''\n    }\n\n  })\n\n  return output\n\n}","import React from 'react'\n\nexport default (props) => {\n\n  const { children, entityKey, contentState } = props\n  const { href, target } = contentState.getEntity(entityKey).getData()\n\n  return (\n    <span className='bf-link-wrap'>\n      <a onClick={(event) => viewLink(event, href)} className='bf-link' href={href} target={target}>{children}</a>\n    </span>\n  )\n\n}\n\nconst viewLink = (event, link) => {\n  if (event.getModifierState('Shift')) {\n    const tempLink = document.createElement('a')\n    tempLink.href = link\n    tempLink.target = '_blank'\n    tempLink.click()\n  }\n}","import { CompositeDecorator } from 'draft-js'\nimport CombineDecorators from 'draft-js-multidecorators'\nimport Immutable from 'immutable'\nimport { getExtensionDecorators } from 'helpers/extension'\nimport Link from './Link'\n\nconst KEY_SEPARATOR = '-'\n\nCombineDecorators.prototype.getDecorations = function (block, contentState) {\n\n  const decorations = Array(block.getText().length).fill(null)\n\n  this.decorators.forEach((decorator, i) => {\n\n    decorator.getDecorations(block, contentState).forEach((key, offset) => {\n      if (!key) {\n        return\n      }\n      key = i + KEY_SEPARATOR + key\n      decorations[offset] = key\n    })\n\n  })\n\n  return Immutable.List(decorations)\n\n}\n\nconst builtinDecorators = [\n  {\n    type: 'entity',\n    decorator: {\n      key: 'LINK',\n      component: Link\n    }\n  }\n]\n\nconst createStrategy = (type) => (block, callback, contentState) => {\n\n  block.findEntityRanges((character) => {\n    const entityKey = character.getEntity()\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === type\n    )\n  }, callback)\n\n}\n\nexport default (editorId) => {\n\n  const extensionDecorators = getExtensionDecorators(editorId)\n\n  const entityDecorators = [\n    ...builtinDecorators,\n    ...extensionDecorators.filter(item => item.type === 'entity')\n  ]\n\n  const strategyDecorators = extensionDecorators.filter(item => item.type === 'strategy')\n  const classDecorators = extensionDecorators.filter(item => item.type === 'class')\n\n  return new CombineDecorators([\n    // combine decorator classes\n    ...classDecorators.map(item => item.decorator),\n    // combine decorators created with strategy\n    new CompositeDecorator(strategyDecorators.map(item => item.decorator)),\n    // combine decorators for entities\n    new CompositeDecorator(entityDecorators.map(item => ({\n      strategy: createStrategy(item.decorator.key),\n      component: item.decorator.component\n    })))\n  ])\n\n}","import _getBlockRenderMap from './block/blockRenderMap'\nimport _getBlockRendererFn from './block/blockRendererFn'\nimport _getBlockStyleFn from './block/blockStyleFn'\nimport _getCustomStyleMap from './inline/inlineStyleMap'\nimport _getCustomStyleFn from './inline/inlineStyleFn'\nimport _getDecorators from './decorators'\n\nexport const getBlockRenderMap = _getBlockRenderMap\nexport const getBlockRendererFn = _getBlockRendererFn\nexport const getBlockStyleFn = _getBlockStyleFn\nexport const getCustomStyleMap = _getCustomStyleMap\nexport const getCustomStyleFn = _getCustomStyleFn\nexport const getDecorators = _getDecorators","import { BaseUtils } from 'braft-utils'\n\nlet resizeEventHandlers = []\nlet responsiveHelperInited = false\nlet debouce = false\n\nexport default {\n\n  resolve (eventHandler) {\n    let id = BaseUtils.UniqueIndex()\n    resizeEventHandlers.push({ id, eventHandler })\n    return id\n  },\n\n  unresolve (id) {\n    resizeEventHandlers = resizeEventHandlers.filter(item => item.id !== id)\n  }\n\n}\n\nif (!responsiveHelperInited) {\n\n  window.addEventListener('resize', (event) => {\n    clearTimeout(debouce)\n    debouce = setTimeout(() => {\n      resizeEventHandlers.map((item) => {\n        typeof item.eventHandler === 'function' && item.eventHandler(event)\n      })\n      debouce = false\n    }, 100)\n  })\n\n  responsiveHelperInited = true\n\n}","import './style.scss'\nimport React from 'react'\nimport ResponsiveHelper from 'helpers/responsive'\nimport { BaseUtils } from 'braft-utils'\n\nexport default class DropDown extends React.Component {\n\n  alive = false\n  responsiveResolveId = null\n  dropDownHandlerElement = null\n  dropDownContentElement = null\n  componentId = this.props.componentId || ('BRAFT-DROPDOWN-' + BaseUtils.UniqueIndex())\n  state = {\n    active: false,\n    offset: 0\n  }\n\n  componentDidMount () {\n\n    this.alive = true\n\n    document.body.addEventListener('click', (event) => {\n      this.registerClickEvent(event)\n    })\n\n    this.responsiveResolveId = ResponsiveHelper.resolve(() => {\n      this.fixDropDownPosition()\n    })\n\n  }\n\n  componentWillReceiveProps (next) {\n\n    if (!this.props.disabled && next.disabled) {\n      this.hide()\n    }\n\n  }\n\n  componentDidUpdate (prevState) {\n\n    if (!prevState.active && this.state.active) {\n      this.fixDropDownPosition()\n    }\n\n  }\n\n  componentWillUnmount () {\n\n    document.body.removeEventListener('click', (event) => {\n      this.registerClickEvent(event)\n    })\n\n    this.alive = false\n    ResponsiveHelper.unresolve(this.responsiveResolveId)\n\n  }\n\n  render () {\n\n    let { active, offset } = this.state\n    let { caption, htmlCaption, title, disabled, showArrow, arrowActive, className, children, theme } = this.props\n\n    disabled && (active = false)\n    theme === 'light' && (className = ' light-theme ' + className)\n\n    return (\n      <div\n        id={this.componentId}\n        className={'bf-dropdown ' + (active ? 'active ' : '') + (disabled ? 'disabled ' : '') + className}\n      >\n        {htmlCaption ? (\n          <button\n            type='button'\n            className='dropdown-handler'\n            data-title={title}\n            data-braft-component-id={this.componentId}\n            dangerouslySetInnerHTML={htmlCaption ? {__html: htmlCaption} : null}\n            ref={(instance) => this.dropDownHandlerElement = instance}\n          ></button>\n        ) : (\n          <button\n            type='button'\n            className='dropdown-handler'\n            data-title={title}\n            data-braft-component-id={this.componentId}\n            ref={(instance) => this.dropDownHandlerElement = instance}\n          >\n            <span>{caption}</span>\n            {showArrow !== false ? <i className='bfi-drop-down'></i> : null}\n          </button>\n        )}\n        <div\n          className='dropdown-content'\n          style={{marginLeft: offset }}\n          ref={(instance) => this.dropDownContentElement = instance}\n        >\n          <i\n            style={{marginLeft: offset * -1}}\n            className={'dropdown-arrow' + (arrowActive ? ' active' : '')}\n          ></i>\n          <div className='dropdown-content-inner'>\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n\n  }\n\n  fixDropDownPosition () {\n\n    const viewRect = this.props.containerNode.getBoundingClientRect()\n    const handlerRect = this.dropDownHandlerElement.getBoundingClientRect()\n    const contentRect = this.dropDownContentElement.getBoundingClientRect()\n\n    let offset = 0\n    let right = handlerRect.right - handlerRect.width / 2 + contentRect.width / 2\n    let left = handlerRect.left + handlerRect.width / 2 - contentRect.width / 2\n\n    right = viewRect.right - right\n    left = left - viewRect.left\n\n    if (right < 10) {\n      offset = right - 10\n    } else if (left < 10) {\n      offset = left * -1 + 10\n    }\n\n    if (offset !== this.state.offset) {\n      this.setState({ offset })\n    }\n\n  }\n\n  registerClickEvent (event) {\n\n    let { autoHide } = this.props\n    let active = false\n\n    if (event.target.dataset.braftComponentId === this.componentId) {\n      active = event.target.dataset.keepActive ? true : !this.state.active\n    } else if (autoHide === false) {\n      active = this.state.active\n    }\n\n    this.alive && this.setState({ active })\n\n  }\n\n  show () {\n    this.setState({\n      active: true\n    })\n  }\n\n  hide () {\n    this.setState({\n      active: false\n    })\n  }\n\n\n}","import './style.scss'\nimport React from 'react'\nimport Switch from 'components/common/Switch'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class LinkEditor extends React.Component {\n\n  constructor (props) {\n\n    super(props)\n\n    this.state = {\n      href: '',\n      target: props.defaultLinkTarget || ''\n    }\n\n  }\n\n  dropDownComponent = null\n\n  componentWillReceiveProps (nextProps) {\n\n    const { href, target } = ContentUtils.getSelectionEntityData(nextProps.editorState, 'LINK')\n    this.setState({\n      href: href || '',\n      target: typeof target === 'undefined' ? (nextProps.defaultLinkTarget || '') : (target || '')\n    })\n\n  }\n\n  render () {\n\n    const { href, target } = this.state\n    const caption = <i className='bfi-link'></i>\n    const textSelected = !ContentUtils.isSelectionCollapsed(this.props.editorState) && ContentUtils.getSelectionBlockType(this.props.editorState) !== 'atomic'\n\n    return (\n      [\n        <DropDown\n          key={0}\n          caption={caption}\n          title={this.props.language.controls.link}\n          autoHide={false}\n          containerNode={this.props.containerNode}\n          showArrow={false}\n          disabled={!textSelected}\n          ref={(instance) => this.dropDownComponent = instance}\n          className={'control-item dropdown link-editor-dropdown'}\n        >\n          <div className='bf-link-editor'>\n            <div className='input-group'>\n              <input\n                type='text'\n                value={href}\n                spellCheck={false}\n                placeholder={this.props.language.linkEditor.inputPlaceHolder}\n                onKeyDown={this.handeKeyDown}\n                onChange={this.inputLink}\n              />\n            </div>\n            <div className='switch-group'>\n              <Switch\n                active={target === '_blank'}\n                onClick={this.setTarget}\n              />\n              <label>{this.props.language.linkEditor.openInNewWindow}</label>\n            </div>\n            <div className='buttons'>\n              <a onClick={this.handleUnlink} className='primary pull-left' href='javascript:void(0);'>\n                <i className='bfi-close'></i>\n                <span>{this.props.language.linkEditor.removeLink}</span>\n              </a>\n              <button type='button' onClick={this.handleConfirm} className='primary pull-right'>{this.props.language.base.confirm}</button>\n              <button type='button' onClick={this.handleCancel} className='default pull-right'>{this.props.language.base.cancel}</button>\n            </div>\n          </div>\n        </DropDown>,\n        <button\n          key={1}\n          type='button'\n          data-title={this.props.language.controls.unlink}\n          className='control-item button'\n          onClick={this.handleUnlink}\n          disabled={!textSelected || !href}\n        >\n          <i className='bfi-link-off'></i>\n        </button>\n      ]\n    )\n\n  }\n\n  handeKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      this.handleConfirm()\n      e.preventDefault()\n      return false\n    }\n  }\n\n  inputLink = (e) => {\n    this.setState({\n      href: e.currentTarget.value\n    })\n  }\n\n  setTarget = () => {\n    this.setState({\n      target: this.state.target === '_blank' ? '' : '_blank'\n    })\n  }\n\n  handleCancel = () => {\n    this.dropDownComponent.hide()\n  }\n\n  handleUnlink = () => {\n    this.dropDownComponent.hide()\n    this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, false))\n  }\n\n  handleConfirm = () => {\n\n    let { href, target } = this.state\n    const hookReturns = this.props.hooks('toggle-link', { href, target })({ href, target })\n\n    this.dropDownComponent.hide()\n    this.props.editor.requestFocus()\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (hookReturns) {\n      typeof hookReturns.href === 'string' && (href = hookReturns.href)\n      typeof hookReturns.target === 'string' && (target = hookReturns.target)\n    }\n\n    this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, href, target))\n\n  }\n\n}","import React from 'react'\n\nexport const getHeadings = (lang) => [\n  {\n    key: 'header-one',\n    title: lang.controls.header + ' 1',\n    text: <h1>{lang.controls.header} 1</h1>,\n    type: 'block-type',\n    command: 'header-one'\n  }, {\n    key: 'header-two',\n    title: lang.controls.header + ' 2',\n    text: <h2>{lang.controls.header} 2</h2>,\n    type: 'block-type',\n    command: 'header-two'\n  }, {\n    key: 'header-three',\n    title: lang.controls.header + ' 3',\n    text: <h3>{lang.controls.header} 3</h3>,\n    type: 'block-type',\n    command: 'header-three'\n  }, {\n    key: 'header-four',\n    title: lang.controls.header + ' 4',\n    text: <h4>{lang.controls.header} 4</h4>,\n    type: 'block-type',\n    command: 'header-four'\n  }, {\n    key: 'header-five',\n    title: lang.controls.header + ' 5',\n    text: <h5>{lang.controls.header} 5</h5>,\n    type: 'block-type',\n    command: 'header-five'\n  }, {\n    key: 'header-six',\n    title: lang.controls.header + ' 6',\n    text: <h6>{lang.controls.header} 6</h6>,\n    type: 'block-type',\n    command: 'header-six'\n  }, {\n    key: 'unstyled',\n    title: lang.controls.normal,\n    text: lang.controls.normal,\n    type: 'block-type',\n    command: 'unstyled'\n  }\n]\n\nexport const blocks = {\n  'header-one': 'h1',\n  'header-two': 'h2',\n  'header-three': 'h3',\n  'header-four': 'h4',\n  'header-fiv': 'h5',\n  'header-six': 'h6',\n  'unstyled': 'p',\n  'blockquote': 'blockquote'\n}","import './style.scss'\nimport React from 'react'\nimport { getHeadings } from 'configs/maps'\nimport DropDown from 'components/common/DropDown'\n\nexport default (props) => {\n\n  const headings = getHeadings(props.language)\n  const currentHeadingIndex = headings.findIndex((item) => item.command === props.current)\n  const caption = headings[currentHeadingIndex] ? headings[currentHeadingIndex].title : props.language.controls.normal\n\n  return (\n    <DropDown\n      caption={caption}\n      containerNode={props.containerNode}\n      title={props.language.controls.headings}\n      arrowActive={currentHeadingIndex === 0}\n      className={'control-item dropdown headings-dropdown'}\n    >\n      <ul className='menu'>\n        {\n          headings.map((item, index) => {\n            let isActive = props.current === item.command\n            return (\n              <li\n                key={index}\n                className={'menu-item' + (isActive ? ' active' : '')}\n                onClick={() => props.onChange(item.command, item.type)}\n              >\n                {item.text}\n              </li>\n            )\n          })\n        }\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\n\nexport default (props) => (\n  <div className=\"bf-colors-wrap\">\n    <ul className=\"bf-colors\">\n      {props.presetColors.map((item, index) => {\n        let className = props.color && item.toLowerCase() === props.color.toLowerCase() ? 'color-item active' : 'color-item'\n        return (\n          <li\n            key={index}\n            title={item}\n            className={className}\n            style={{color: item}}\n            data-color={item.replace('#', '')}\n            onClick={(e) => {\n              props.onChange(e.currentTarget.dataset.color, true)\n            }}\n          >\n          </li>\n        )\n      })}\n    </ul>\n  </div>\n)","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport BuiltinColorPicker from 'components/common/ColorPicker'\nimport { BaseUtils, ContentUtils } from 'braft-utils'\n\nexport default class TextColor extends React.Component {\n\n  state = {\n    colorType: 'color'\n  }\n\n  dropDownComponentId = 'BRAFT-DROPDOWN-' + BaseUtils.UniqueIndex()\n\n  render () {\n\n    let captionStyle = {}\n    let currentColor = null\n    let { colorType } = this.state\n\n    const selectionStyles = this.props.editorState.getCurrentInlineStyle().toJS()\n\n    selectionStyles.forEach(style => {\n\n      if (style.indexOf('COLOR-') === 0) {\n        captionStyle.color = '#' + style.split('-')[1]\n        colorType === 'color' && (currentColor = captionStyle.color)\n      }\n\n      if (style.indexOf('BGCOLOR-') === 0) {\n        captionStyle.backgroundColor = '#' + style.split('-')[1]\n        colorType === 'background-color' && (currentColor = captionStyle.backgroundColor)\n      }\n\n    })\n\n    const caption = (\n      <i style={captionStyle} className='bfi-text-color'>\n        <span className='path1'></span>\n        <span className='path2'></span>\n      </i>\n    )\n\n    const ColorPicker = this.props.colorPicker || BuiltinColorPicker\n\n    return (\n      <DropDown\n        caption={caption}\n        title={this.props.language.controls.color}\n        showArrow={false}\n        autoHide={this.props.autoHide}\n        theme={this.props.theme}\n        containerNode={this.props.containerNode}\n        componentId={this.dropDownComponentId}\n        ref={(instance) => this.dropDownComponent = instance}\n        className={'control-item dropdown text-color-dropdown'}\n      >\n        <div className='bf-text-color-picker-wrap'>\n          <div className='bf-color-switch-buttons' style={this.props.enableBackgroundColor ? {} : {display: 'none'}}>\n            <button\n              type='button'\n              data-type='color'\n              data-keep-active={true}\n              data-braft-component-id={this.dropDownComponentId}\n              className={colorType === 'color' ? 'active' : ''}\n              onClick={this.switchColorType}\n            >{this.props.language.controls.textColor}</button>\n            <button\n              type='button'\n              data-type='background-color'\n              data-keep-active={true}\n              data-braft-component-id={this.dropDownComponentId}\n              className={colorType === 'background-color' ? 'active' : ''}\n              onClick={this.switchColorType}\n            >{this.props.language.controls.backgroundColor}</button>\n          </div>\n          <ColorPicker\n            width={200}\n            color={currentColor}\n            disableAlpha={true}\n            presetColors={this.props.colors}\n            onChange={this.toggleColor}\n          />\n        </div>\n      </DropDown>\n    )\n\n  }\n\n  switchColorType = ({ currentTarget }) => {\n    this.setState({\n      colorType: currentTarget.dataset.type\n    })\n  }\n\n  toggleColor = (color, closePicker) => {\n\n    if (color) {\n\n      const hookReturns = this.props.hooks(`toggle-text-${this.state.colorType}`, color)(color)\n\n      if (hookReturns === false) {\n        return false\n      }\n\n      if (typeof hookReturns === 'string') {\n        color =  hookReturns\n      }\n\n      if (this.state.colorType === 'color') {\n        this.props.editor.setValue(ContentUtils.toggleSelectionColor(this.props.editorState, color))\n      } else {\n        this.props.editor.setValue(ContentUtils.toggleSelectionBackgroundColor(this.props.editorState, color))\n      }\n\n    }\n\n    if (closePicker) {\n      this.dropDownComponent.hide()\n      this.props.editor.requestFocus()\n    }\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleFontSize = (event, props) => {\n\n  let fontSize = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-font-size', fontSize)(fontSize)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(fontSize)) {\n    fontSize = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionFontSize(props.editorState, fontSize))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentFontSize = null\n\n  props.fontSizes.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'FONTSIZE-' + item)) {\n      caption = item\n      currentFontSize = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      containerNode={props.containerNode}\n      title={props.language.controls.fontSize}\n      className={'control-item dropdown bf-font-size-dropdown'}\n    >\n      <ul className='bf-font-sizes'>\n        {props.fontSizes.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentFontSize ? 'active' : null}\n              data-size={item}\n              onClick={(event) => toggleFontSize(event, props)}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleLineHeight = (event, props) => {\n\n  let lineHeight = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-line-height', lineHeight)(lineHeight)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(hookReturns)) {\n    lineHeight = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionLineHeight(props.editorState, lineHeight))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentLineHeight = null\n\n  props.lineHeights.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'LINEHEIGHT-' + item)) {\n      caption = item\n      currentLineHeight = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      containerNode={props.containerNode}\n      title={props.language.controls.lineHeight}\n      className={'control-item dropdown bf-line-height-dropdown'}\n    >\n      <ul className='bf-line-heights'>\n        {props.lineHeights.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentLineHeight ? 'active' : null}\n              data-size={item}\n              onClick={(event) => toggleLineHeight(event, props)}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleFontFamily = (event, props) => {\n\n  let fontFamilyName = event.currentTarget.dataset.name\n  const hookReturns = props.hooks('toggle-font-family', fontFamilyName)(fontFamilyName, props.fontFamilies)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (typeof hookReturns === 'string') {\n    fontFamilyName = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionFontFamily(props.editorState, fontFamilyName))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentIndex = null\n\n  props.fontFamilies.find((item, index) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'FONTFAMILY-' + item.name)) {\n      caption = item.name\n      currentIndex = index\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      containerNode={props.containerNode}\n      title={props.language.controls.fontFamily}\n      arrowActive={currentIndex === 0}\n      className={'control-item dropdown font-family-dropdown'}\n    >\n      <ul className='menu'>\n        {props.fontFamilies.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={'menu-item ' + (index === currentIndex ? 'active' : '')}\n              data-name={item.name}\n              onClick={(event) => toggleFontFamily(event, props)}\n            >\n              <span style={{fontFamily: item.family}}>{item.name}</span>\n            </li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class TextAlign extends React.Component {\n\n  state = {\n    currentAlignment: undefined\n  }\n\n  componentWillReceiveProps (next) {\n    this.setState({\n      currentAlignment: ContentUtils.getSelectionBlockData(next.editorState, 'textAlign')\n    })\n  }\n\n  setAlignment = (event) => {\n\n    let { alignment } = event.currentTarget.dataset\n    const hookReturns = this.props.hooks('toggle-text-alignment', alignment)(alignment)\n\n    if (this.props.textAligns.indexOf(hookReturns) > -1) {\n      alignment = hookReturns\n    }\n\n    this.props.editor.setValue(ContentUtils.toggleSelectionAlignment(this.props.editorState, alignment))\n    this.props.editor.requestFocus()\n\n  }\n\n  render () {\n\n    const textAlignmentTitles = [\n      this.props.language.controls.alignLeft,\n      this.props.language.controls.alignCenter,\n      this.props.language.controls.alignRight,\n      this.props.language.controls.alignJustify\n    ]\n\n    return this.props.textAligns.map((item, index) => (\n      <button\n        type='button'\n        key={index}\n        data-title={textAlignmentTitles[index]}\n        data-alignment={item}\n        className={'control-item button ' + (item === this.state.currentAlignment ? 'active' : null)}\n        onClick={this.setAlignment}\n      >\n        <i className={'bfi-align-' + item}></i>\n      </button>\n    ))\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst insertEmoji = (event, props) => {\n\n  let emoji = event.currentTarget.dataset.emoji\n  const hookReturns = props.hooks('insert-emoji', emoji)(emoji)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (typeof hookReturns === 'string') {\n    emoji = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.insertText(props.editorState, emoji))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  return (\n    <DropDown\n      caption={props.defaultCaption}\n      showArrow={false}\n      containerNode={props.containerNode}\n      title={props.language.controls.emoji}\n      className={'control-item dropdown bf-emoji-dropdown'}\n    >\n      <div className='bf-emojis-wrap'>\n        <ul className='bf-emojis'>\n          {props.emojis.map((item, index) => {\n            return (\n              <li\n                key={index}\n                data-emoji={item}\n                onClick={(event) => insertEmoji(event, props)}\n              >{item}</li>\n            )\n          })}\n        </ul>\n      </div>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nconst toggleLetterSpacing = (event, props) => {\n\n  let letterSpacing = event.currentTarget.dataset.size\n  const hookReturns = props.hooks('toggle-letter-spacing', letterSpacing)(letterSpacing)\n\n  if (hookReturns === false) {\n    return false\n  }\n\n  if (!isNaN(hookReturns)) {\n    letterSpacing = hookReturns\n  }\n\n  props.editor.setValue(ContentUtils.toggleSelectionLetterSpacing(props.editorState, letterSpacing))\n  props.editor.requestFocus()\n\n}\n\nexport default (props) => {\n\n  let caption = null\n  let currentLetterSpacing = null\n\n  props.letterSpacings.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'LETTERSPACING-' + item)) {\n      caption = item\n      currentLetterSpacing = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      containerNode={props.containerNode}\n      title={props.language.controls.letterSpacing}\n      className={'control-item dropdown bf-letter-spacing-dropdown'}\n    >\n      <ul className='bf-letter-spacings'>\n        {props.letterSpacings.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentLetterSpacing ? 'active' : null}\n              data-size={item}\n              onClick={(event) => toggleLetterSpacing(event, props)}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class TextAlign extends React.Component {\n\n  state = {\n    currentIndent: 0\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({\n      currentIndent: ContentUtils.getSelectionBlockData(nextProps.editorState, 'textIndent') || 0\n    })\n  }\n\n  increaseIndent = () => {\n    this.props.editor.setValue(ContentUtils.increaseSelectionIndent(this.props.editorState))\n    this.props.editor.requestFocus()\n  }\n\n  decreaseIndent = () => {\n    this.props.editor.setValue(ContentUtils.decreaseSelectionIndent(this.props.editorState))\n    this.props.editor.requestFocus()\n  }\n\n  render () {\n\n    const { currentIndent } = this.state\n    const { language } = this.props\n\n    return (\n      [\n        <button\n          key={0}\n          type='button'\n          data-title={language.controls.increaseIndent}\n          disabled={currentIndent >= 6}\n          className={`control-item button button-indent-increase${currentIndent > 0 && currentIndent < 6 ? ' active' : ''}`}\n          onClick={this.increaseIndent}\n        >\n          <i className={'bfi-indent-increase'}></i>\n        </button>,\n        <button\n          key={1}\n          type='button'\n          data-title={language.controls.decreaseIndent}\n          disabled={currentIndent <= 0}\n          className=\"control-item button button-indent-decrease\"\n          onClick={this.decreaseIndent}\n        >\n          <i className={'bfi-indent-decrease'}></i>\n        </button>\n      ]\n    )\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BaseUtils } from 'braft-utils'\n\nexport default class Modal extends React.Component {\n\n  constructor (props) {\n\n    super(props)\n    this.active = false\n    this.componentId = 'BRAFT-MODAL-' + BaseUtils.UniqueIndex()\n\n  }\n\n  static defaultProps = {\n    showFooter: true\n  }\n\n  componentDidMount () {\n\n    if (this.props.visible) {\n      this.active = true\n      this.renderComponent(this.props)\n    }\n\n  }\n\n  componentWillReceiveProps (next) {\n\n    if (this.props.visible && !next.visible) {\n      this.unrenderComponent()\n    } else if (this.props.visible || next.visible) {\n      this.active = true\n      this.renderComponent(next)\n    }\n\n  }\n\n  render () {\n    return null\n  }\n\n  handleTransitionEnd = () => {\n\n    if (!this.rootElement || !this.rootElement.classList) {\n      return false\n    }\n\n    if (!this.rootElement.classList.contains('active')) {\n      ReactDOM.unmountComponentAtNode(this.rootElement) && this.rootElement.parentNode.removeChild(this.rootElement)\n    }\n\n  }\n\n  unrenderComponent () {\n    this.active = false\n    this.activeId && window.clearImmediate(this.activeId)\n    if (this.rootElement && this.rootElement.classList) {\n      this.rootElement.classList.remove('active')\n    }\n  }\n\n  renderComponent (props) {\n\n    if (!this.active) {\n      return false\n    }\n\n    let { title, className, width, height, children, component, confirmable, showFooter, showCancel, showConfirm, showClose, cancelText, confirmText, bottomText, language } = props\n\n    typeof showCancel === 'undefined' && (showCancel = true)\n    typeof showClose === 'undefined' && (showClose = true)\n    typeof showConfirm === 'undefined' && (showConfirm = true)\n    typeof showFooter === 'undefined' && (showFooter = true)\n\n    const childComponent = (\n      <div className={'bf-modal ' + (className || '')}>\n        <div className='bf-modal-mask'></div>\n        <div onTransitionEnd={this.handleTransitionEnd} style={{width, height}} className='bf-modal-content'>\n          <div className='bf-modal-header'>\n            <h3 className='bf-modal-caption'>{title}</h3>\n            {showClose && <button type='button' onClick={this.close} className='bf-modal-close-button'><i className='bfi-close'></i></button>}\n          </div>\n          <div className='bf-modal-body'>{children || component}</div>\n          {showFooter ? (\n            <div className='bf-modal-footer'>\n              <div className='bf-modal-addon-text'>{bottomText}</div>\n              <div className='bf-modal-buttons'>\n                {showCancel && <button type='button' onClick={this.handleCancel} className='bf-modal-cancel'>{cancelText || language.base.cancel}</button>}\n                {showConfirm && <button type='button' onClick={this.handleConfirm} className={'bf-modal-confirm ' + (!confirmable ? 'disabled' : '')}>{confirmText || language.base.confirm}</button>}\n              </div>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    )\n\n    this.rootElement = document.querySelector('#' + this.componentId)\n\n    if (!this.rootElement) {\n      this.rootElement = document.createElement('div')\n      this.rootElement.id = this.componentId\n      this.rootElement.className = 'bf-modal-root'\n      document.body.appendChild(this.rootElement)\n    }\n\n    ReactDOM.render(childComponent, this.rootElement)\n\n    this.activeId = window.setImmediate(() => {\n      this.rootElement.classList.add('active')\n    })\n\n  }\n\n  handleCancel = () => {\n    this.props.closeOnCancel && this.close()\n    this.props.onCancel && this.props.onCancel()\n  }\n\n  handleConfirm = () => {\n    this.props.closeOnConfirm && this.close()\n    this.props.onConfirm && this.props.onConfirm()\n  }\n\n  close = () => {\n    this.unrenderComponent()\n    this.props.onClose && this.props.onClose()\n  }\n\n}\n\nexport const showModal = (props) => {\n\n  const hostNode = document.createElement('div')\n  hostNode.style.display = 'none'\n  document.body.appendChild(hostNode)\n\n  const close = () => {\n    ReactDOM.unmountComponentAtNode(hostNode) && hostNode.parentNode.removeChild(hostNode)\n  }\n\n  const onConfirm = () => {\n    close()\n    props.onConfirm && props.onConfirm()\n  }\n\n  const onCancel = () => {\n    close()\n    props.onCancel && props.onCancel()\n  }\n\n  const onClose = () => {\n    close()\n    props.onClose && props.onClose()\n  }\n\n  const extProps = {\n    onConfirm, onCancel, onClose,\n    visible: true,\n    closeOnConfirm: true,\n    closeOnCancel: true\n  }\n\n  const modalInstance = ReactDOM.render(<Modal { ...props } { ...extProps }/>, hostNode)\n  modalInstance.destroy = close\n  modalInstance.update = modalInstance.renderComponent\n\n  return modalInstance\n\n}","import './style.scss'\nimport React from 'react'\nimport getEditorControls from 'configs/controls'\nimport LinkEditor from 'components/business/LinkEditor'\nimport HeadingPicker from 'components/business/Headings'\nimport TextColorPicker from 'components/business/TextColor'\nimport FontSizePicker from 'components/business/FontSize'\nimport LineHeightPicker from 'components/business/LineHeight'\nimport FontFamilyPicker from 'components/business/FontFamily'\nimport TextAlign from 'components/business/TextAlign'\nimport EmojiPicker from 'components/business/EmojiPicker'\nimport LetterSpacingPicker from 'components/business/LetterSpacing'\nimport TextIndent from 'components/business/TextIndent'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\nimport { showModal } from 'components/common/Modal'\nimport { getExtensionControls } from 'helpers/extension'\n\nconst commandHookMap = {\n  'inline-style': 'toggle-inline-style',\n  'block-type': 'change-block-type',\n  'editor-method': 'exec-editor-command'\n}\n\nconst mergeControls = (builtControls, extensionControls, extendControls) => {\n\n  if (extensionControls.length === 0 && extendControls.length === 0) {\n    return builtControls\n  }\n\n  return builtControls.map(item => {\n    return extendControls.find(subItem => {\n      return subItem.replace === (item.key || item)\n    }) || extensionControls.find(subItem => {\n      return subItem.replace === (item.key || item)\n    }) || item\n  }).concat(extensionControls.length ? 'separator' : '').concat(extensionControls.filter(item => {\n    return !item.replace\n  })).concat(extendControls.filter(item => {\n    return !item.replace\n  }))\n\n}\n\nexport default class ControlBar extends React.Component {\n\n  mediaLibiraryModal = null\n  extendedModals = {}\n\n  componentDidUpdate () {\n\n    const { controls, language } = this.props\n\n    controls.forEach(item => {\n      if (item.type === 'modal') {\n        if (item.modal && item.modal.id && this.extendedModals[item.modal.id]) {\n          this.extendedModals[item.modal.id].update({ ...item.modal, language })\n        }\n      }\n    })\n\n  }\n\n  getControlItemClassName (data) {\n\n    let className = 'control-item button'\n    let { type, command } = data\n\n    if (type === 'inline-style' && ContentUtils.selectionHasInlineStyle(this.props.editorState, command)) {\n      className += ' active'\n    } else if (type === 'block-type' && ContentUtils.getSelectionBlockType(this.props.editorState) === command) {\n      className += ' active'\n    } else if (type === 'entity' && ContentUtils.getSelectionEntityType(this.props.editorState) === command) {\n      className += ' active'\n    }\n\n    return className\n\n  }\n\n  applyControl (command, type, data = {}) {\n\n    const hookReturns = this.props.hooks(commandHookMap[type] || type, command)(command)\n\n    if (hookReturns === false) {\n      return false\n    }\n\n    if (typeof hookReturns === 'string') {\n      command = hookReturns\n    }\n\n    if (type === 'inline-style') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionInlineStyle(this.props.editorState, command))\n    } else if (type === 'block-type') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionBlockType(this.props.editorState, command))\n    } else if (type === 'entity') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionEntity(this.props.editorState, {\n        type: command,\n        mutability: data.mutability || 'MUTABLE',\n        data: data.data || {}\n      }))\n    } else if (type === 'editor-method') {\n      this.props.editor[command] && this.props.editor[command]()\n    }\n\n  }\n\n  openBraftFinder = () => {\n\n    if (!this.props.braftFinder || !this.props.braftFinder.ReactComponent) {\n      return false\n    }\n\n    if (this.props.hooks('open-braft-finder')() === false) {\n      return false\n    }\n\n    const mediaProps = this.props.media\n    const MediaLibrary = this.props.braftFinder.ReactComponent\n\n    this.mediaLibiraryModal = showModal({\n      title: this.props.language.controls.mediaLibirary,\n      language: this.props.language,\n      width: 640,\n      showFooter: false,\n      component: (\n        <MediaLibrary\n          accepts={mediaProps.accepts}\n          onCancel={this.closeBraftFinder}\n          onInsert={this.insertMedias}\n          onChange={mediaProps.onChange}\n          externals={mediaProps.externals}\n          onBeforeSelect={this.bindBraftFinderHook('select-medias')}\n          onBeforeDeselect={this.bindBraftFinderHook('deselect-medias')}\n          onBeforeRemove={this.bindBraftFinderHook('remove-medias')}\n          onBeforeInsert={this.bindBraftFinderHook('insert-medias')}\n          onFileSelect={this.bindBraftFinderHook('select-files')}\n        />\n      )\n    })\n\n  }\n\n  bindBraftFinderHook = (hookName) => (...params) => {\n    return this.props.hooks(hookName, params[0])(...params)\n  }\n\n  insertMedias = (medias) => {\n\n    this.props.editor.setValue(ContentUtils.insertMedias(this.props.editorState, medias))\n    this.props.editor.requestFocus()\n    this.props.media.onInsert && this.props.media.onInsert(medias)\n    this.closeBraftFinder()\n\n  }\n\n  closeBraftFinder = () => {\n\n    this.props.media.onCancel && this.props.media.onCancel()\n    this.mediaLibiraryModal && this.mediaLibiraryModal.close()\n\n  }\n\n  render() {\n\n    const { editor, editorId, editorState, className, style, controls, media, extendControls, language, hooks, colors, colorPicker, colorPickerTheme, colorPickerAutoHide, fontSizes, fontFamilies, emojis, containerNode, lineHeights, letterSpacings, textAligns, textBackgroundColor, defaultLinkTarget } = this.props\n    const currentBlockType = ContentUtils.getSelectionBlockType(editorState)\n    const commonProps = { editor, editorState, language, containerNode, hooks }\n\n    const renderedControls = []\n    const editorControls = getEditorControls(language)\n    const extensionControls = getExtensionControls(editorId)\n    const allControls = mergeControls(controls, extensionControls, extendControls)//extensionControls.length ? [ ...controls, 'separator', ...extensionControls, ...extendControls] : [ ...controls, ...extensionControls, ...extendControls]\n\n    return (\n      <div className={`bf-controlbar ${className || ''}`} style={style} onMouseDown={this.preventDefault}>\n        {\n          allControls.map((item, index) => {\n            let itemKey = typeof item === 'string' ? item : item.key\n            if (typeof itemKey !== 'string') {\n              return null\n            }\n            if (renderedControls.indexOf(itemKey) > -1) {\n              return null\n            }\n            if (itemKey.toLowerCase() === 'separator') {\n              return <span key={index} className='separator-line'></span>\n            }\n            let controlItem = editorControls.find((subItem) => {\n              return subItem.key.toLowerCase() === itemKey.toLowerCase()\n            })\n            if (typeof item !== 'string') {\n              controlItem = { ...controlItem, ...item }\n            }\n            if (!controlItem) {\n              return null\n            }\n            renderedControls.push(itemKey)\n            if (controlItem.type === 'headings') {\n              return <HeadingPicker\n                key={index}\n                current={currentBlockType}\n                onChange={(command) => this.applyControl(command, 'block-type')}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-color') {\n              return <TextColorPicker\n                key={index}\n                colors={colors}\n                colorPicker={colorPicker}\n                theme={colorPickerTheme}\n                autoHide={colorPickerAutoHide}\n                enableBackgroundColor={textBackgroundColor}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'font-size') {\n              return <FontSizePicker\n                key={index}\n                fontSizes={fontSizes}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'line-height') {\n              return <LineHeightPicker\n                key={index}\n                lineHeights={lineHeights}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'letter-spacing') {\n              return <LetterSpacingPicker\n                key={index}\n                letterSpacings={letterSpacings}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-indent') {\n              return <TextIndent\n                key={index}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'font-family') {\n              return <FontFamilyPicker\n                key={index}\n                fontFamilies={fontFamilies}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'emoji') {\n              return <EmojiPicker\n                key={index}\n                emojis={emojis}\n                defaultCaption={controlItem.text}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'link') {\n              return <LinkEditor\n                key={index}\n                defaultLinkTarget={defaultLinkTarget}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-align') {\n              return (\n                <TextAlign\n                  key={index}\n                  textAligns={textAligns}\n                  {...commonProps}\n                />\n              )\n            } else if (controlItem.type === 'media') {\n              if (!media.image && !media.video && !media.audio) {\n                return null\n              }\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  className='control-item media button'\n                  onClick={this.openBraftFinder}\n                >\n                  {controlItem.text}\n                </button>\n              )\n            } else if (controlItem.type === 'dropdown') {\n              return (\n                <DropDown\n                  key={index}\n                  className={`control-item extend-control-item dropdown ${controlItem.className || ''}`}\n                  caption={controlItem.text}\n                  htmlCaption={controlItem.html}\n                  showArrow={controlItem.showArrow}\n                  title={controlItem.title}\n                  arrowActive={controlItem.arrowActive}\n                  theme={controlItem.theme}\n                  autoHide={controlItem.autoHide}\n                  disabled={controlItem.disabled}\n                  ref={controlItem.ref}\n                  {...commonProps}\n                >\n                  {controlItem.component}\n                </DropDown>\n              )\n            } else if (controlItem.type === 'modal') {\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  className={`control-item extend-control-item button ${controlItem.className || ''}`}\n                  dangerouslySetInnerHTML={controlItem.html ? { __html: controlItem.html } : null}\n                  onClick={(event) => {\n                    if (controlItem.modal && controlItem.modal.id) {\n                      if (this.extendedModals[controlItem.modal.id]) {\n                        this.extendedModals[controlItem.modal.id].active = true\n                        this.extendedModals[controlItem.modal.id].update({ ...controlItem.modal, language })\n                      } else {\n                        this.extendedModals[controlItem.modal.id] = showModal({ ...controlItem.modal, language })\n                        controlItem.modal.onCreate && controlItem.modal.onCreate(this.extendedModals[controlItem.modal.id])\n                      }\n                    }\n                    controlItem.onClick && controlItem.onClick(event)\n                  }}\n                >\n                  {!controlItem.html ? controlItem.text : null}\n                </button>\n              )\n            } else if (controlItem.type === 'component') {\n              return (\n                <div\n                  key={index}\n                  className={`component-wrapper ${controlItem.className || ''}`}\n                >{controlItem.component}</div>\n              )\n            } else if (controlItem.type === 'button') {\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  data-title={controlItem.title}\n                  className={`control-item button ${controlItem.className || ''}`}\n                  dangerouslySetInnerHTML={controlItem.html ? { __html: controlItem.html } : null}\n                  onClick={(event) => controlItem.onClick && controlItem.onClick(event)}\n                >\n                  {!controlItem.html ? controlItem.text : null}\n                </button>\n              )\n            } else if (controlItem) {\n\n              let disabled = false\n\n              if (controlItem.command === 'undo') {\n                disabled = editorState.getUndoStack().size === 0\n              } else if (controlItem.command === 'redo') {\n                disabled = editorState.getRedoStack().size === 0\n              }\n\n              return (\n                <button\n                  type='button'\n                  key={index}\n                  disabled={disabled}\n                  data-title={controlItem.title}\n                  className={this.getControlItemClassName({\n                    type: controlItem.type,\n                    command: controlItem.command\n                  })}\n                  onClick={() => this.applyControl(controlItem.command, controlItem.type, controlItem.data)}\n                >\n                  {controlItem.text}\n                </button>\n              )\n            }\n          })\n        }\n      </div>\n    )\n\n  }\n\n  preventDefault (event) {\n\n    const tagName = event.target.tagName.toLowerCase()\n\n    if (tagName === 'input' || tagName === 'label') {\n      // ...\n    } else {\n      event.preventDefault()\n    }\n\n  }\n\n}","import 'draft-js/dist/Draft.css'\nimport 'assets/scss/_base.scss'\nimport React from 'react'\nimport languages from 'languages'\nimport BraftFinder from 'braft-finder'\nimport { ColorUtils, ContentUtils } from 'braft-utils'\nimport { Editor } from 'draft-js'\nimport { Map } from 'immutable'\nimport getKeyBindingFn from 'configs/keybindings'\nimport defaultProps from 'configs/props'\nimport { keyCommandHandlers, returnHandlers, beforeInputHandlers, dropHandlers, droppedFilesHandlers, pastedFilesHandlers, pastedTextHandlers } from 'configs/handlers'\nimport { getBlockRendererFn, getBlockRenderMap, getBlockStyleFn, getCustomStyleMap, getCustomStyleFn, getDecorators } from 'renderers'\nimport { compositeStyleImportFn, compositeStyleExportFn, compositeEntityImportFn, compositeEntityExportFn, compositeBlockImportFn, compositeBlockExportFn, getPropInterceptors } from 'helpers/extension'\nimport ControlBar from 'components/business/ControlBar'\n\nconst buildHooks= (hooks) => (hookName, defaultReturns = {}) => {\n  return hooks[hookName] || (() => defaultReturns)\n}\n\nconst filterColors = (colors, colors2) => {\n  return colors.filter(item => colors2.indexOf(item) === -1).filter((item, index, array) => array.indexOf(item) === index)\n}\n\nconst isControlEnabled = (props, controlName) => {\n  return [...props.controls, ...props.extendControls].find(item => item === controlName || item.key === controlName) && props.excludeControls.indexOf(controlName) === -1\n}\n\nconst getConvertOptions = (props) => {\n\n  const convertOptions = { ...defaultProps.converts, ...props.converts, fontFamilies: props.fontFamilies }\n\n  convertOptions.styleImportFn = compositeStyleImportFn(convertOptions.styleImportFn, props.id)\n  convertOptions.styleExportFn = compositeStyleExportFn(convertOptions.styleExportFn, props.id)\n  convertOptions.entityImportFn = compositeEntityImportFn(convertOptions.entityImportFn, props.id)\n  convertOptions.entityExportFn = compositeEntityExportFn(convertOptions.entityExportFn, props.id)\n  convertOptions.blockImportFn = compositeBlockImportFn(convertOptions.blockImportFn, props.id)\n  convertOptions.blockExportFn = compositeBlockExportFn(convertOptions.blockExportFn, props.id)\n\n  return convertOptions\n\n}\n\nexport default class BraftEditor extends React.Component {\n\n  static defaultProps = defaultProps\n\n  constructor (props) {\n\n    super(props)\n\n    this.editorProps = this.getEditorProps(props)\n    this.editorDecorators = getDecorators(this.editorProps.id)\n\n    this.isFocused = false\n    this.isLiving = false\n    this.braftFinder = null\n    this.valueInitialized = !!(this.editorProps.defaultValue || this.editorProps.value)\n\n    const defaultEditorState = ContentUtils.isEditorState(this.editorProps.defaultValue || this.editorProps.value) ? (this.editorProps.defaultValue || this.editorProps.value) : ContentUtils.createEmptyEditorState(this.editorDecorators)\n    defaultEditorState.setConvertOptions(getConvertOptions(this.editorProps))\n\n    this.state = {\n      containerNode: null,\n      tempColors: [],\n      editorState: defaultEditorState,\n      draftProps: {}\n    }\n\n  }\n\n  getEditorProps (props) {\n\n    props = props || this.props\n\n    const propInterceptors = getPropInterceptors(props.id)\n\n    if (propInterceptors.length === 0) {\n      return props\n    }\n\n    let porpsMap = Map(props)\n\n    propInterceptors.forEach(interceptor => {\n      porpsMap = porpsMap.merge(Map(interceptor(porpsMap.toJS(), this) || {}))\n    })\n\n    return porpsMap.toJS()\n\n  }\n\n  componentWillMount () {\n\n    if (isControlEnabled(this.editorProps, 'media')) {\n\n      const { language, media } = this.editorProps\n      const { uploadFn, validateFn, items } = { ...defaultProps.media, ...media }\n\n      this.braftFinder = new BraftFinder({\n        items: items,\n        language: language,\n        uploader: uploadFn,\n        validator: validateFn\n      })\n\n      this.forceUpdate()\n\n    }\n\n  }\n\n  componentDidMount () {\n\n    this.editorProps = this.getEditorProps()\n    const { value: editorState } = this.editorProps\n\n    if (ContentUtils.isEditorState(editorState)) {\n\n      const tempColors = ColorUtils.detectColorsFromDraftState(editorState.toRAW(true))\n      editorState.setConvertOptions(getConvertOptions(this.editorProps))\n\n      this.setState({\n        tempColors: filterColors([...this.state.tempColors, ...tempColors], this.editorProps.colors),\n        editorState: editorState\n      }, () => {\n        this.editorProps.onChange && this.editorProps.onChange(editorState)\n      })\n\n    }\n\n    this.isLiving = true\n\n  }\n\n  componentDidUpdate (_, prevState) {\n\n    if (prevState.editorState !== this.state.editorState) {\n      this.state.editorState.setConvertOptions(getConvertOptions(this.editorProps))\n    }\n\n  }\n\n  componentWillReceiveProps (props) {\n\n    this.editorProps = this.getEditorProps(props)\n\n    const { value: editorState, media, language } = this.editorProps\n    const currentProps = this.getEditorProps()\n\n    if (!isControlEnabled(currentProps, 'media') && isControlEnabled(this.editorProps, 'media') && !this.braftFinder) {\n\n      const { uploadFn, validateFn, items } = { ...defaultProps.media, ...media }\n\n      this.braftFinder = new BraftFinder({\n        items: items,\n        language: language,\n        uploader: uploadFn,\n        validator: validateFn\n      })\n\n      this.forceUpdate()\n\n    }\n\n    if (media && media.items && this.braftFinder) {\n      this.braftFinder.setItems(media.items)\n    }\n\n    let nextEditorState\n\n    if (!this.valueInitialized && typeof this.props.defaultValue === 'undefined' && ContentUtils.isEditorState(props.defaultValue)) {\n      nextEditorState = props.defaultValue\n    } else if (ContentUtils.isEditorState(editorState)) {\n      nextEditorState = editorState\n    }\n\n    if (nextEditorState) {\n\n      if (nextEditorState && nextEditorState !== this.state.editorState) {\n\n        const tempColors = ColorUtils.detectColorsFromDraftState(nextEditorState.toRAW(true))\n        nextEditorState.setConvertOptions(getConvertOptions(this.editorProps))\n  \n        this.setState({\n          tempColors: filterColors([...this.state.tempColors, ...tempColors], currentProps.colors),\n          editorState: nextEditorState\n        }, () => {\n          this.editorProps.onChange && this.editorProps.onChange(nextEditorState)\n        })\n  \n      } else {\n        this.setState({\n          editorState: nextEditorState\n        })\n      }\n\n    }\n\n  }\n\n  componentWillUnmount () {\n    this.isLiving = false\n  }\n\n  onChange = (editorState, callback) => {\n\n    if (!editorState.convertOptions) {\n      editorState.setConvertOptions(getConvertOptions(this.editorProps))\n    }\n\n    this.setState({ editorState }, () => {\n      this.editorProps.onChange && this.editorProps.onChange(editorState)\n      callback && callback(editorState)\n    })\n\n  }\n\n  getDraftInstance = () => {\n    return this.draftInstance\n  }\n\n  getFinderInstance = () => {\n    return this.braftFinder\n  }\n\n  getValue = () => {\n    return this.state.editorState\n  }\n\n  setValue = (editorState, callback) => {\n    return this.onChange(editorState, callback)\n  }\n\n  forceRender = () => {\n    return this.setValue(ContentUtils.createEditorState(this.state.editorState.getCurrentContent(), this.editorDecorators))\n  }\n\n  onTab = (event) => {\n\n    if (keyCommandHandlers('tab', this.state.editorState, this) === 'handled') {\n      event.preventDefault()\n    }\n\n    this.editorProps.onTab && this.editorProps.onTab(event)\n\n  }\n\n  onFocus = () => {\n    this.isFocused = true\n    this.editorProps.onFocus && this.editorProps.onFocus(this.state.editorState)\n  }\n\n  onBlur = () => {\n    this.isFocused = false\n    this.editorProps.onBlur && this.editorProps.onBlur(this.state.editorState)\n  }\n\n  requestFocus = () => {\n    setTimeout(() => this.draftInstance.focus(), 0)\n  }\n\n  handleKeyCommand = (command, editorState) => keyCommandHandlers(command, editorState, this)\n\n  handleReturn = (event, editorState) => returnHandlers(event, editorState, this)\n\n  handleBeforeInput = (chars, editorState) => beforeInputHandlers(chars, editorState, this)\n\n  handleDrop = (selectionState, dataTransfer) => dropHandlers(selectionState, dataTransfer, this)\n\n  handleDroppedFiles = (selectionState, files) => droppedFilesHandlers(selectionState, files, this)\n\n  handlePastedFiles = (files) => pastedFilesHandlers(files, this)\n\n  handlePastedText = (text, html, editorState) => pastedTextHandlers(text, html, editorState, this)\n\n  undo = () => {\n    this.setValue(ContentUtils.undo(this.state.editorState))\n  }\n\n  redo = () => {\n    this.setValue(ContentUtils.redo(this.state.editorState))\n  }\n\n  removeSelectionInlineStyles = () => {\n    this.setValue(ContentUtils.removeSelectionInlineStyles(this.state.editorState))\n  }\n\n  insertHorizontalLine = () => {\n    this.setValue(ContentUtils.insertHorizontalLine(this.state.editorState))\n  }\n\n  clearEditorContent = () => {\n    this.setValue(ContentUtils.clear(this.state.editorState), (editorState) => {\n      this.setValue(ContentUtils.toggleSelectionIndent(editorState, 0))\n    })\n  }\n\n  setDraftProps (draftProps) {\n    this.setState({\n      draftProps: {\n        ...this.state.draftProps,\n        ...draftProps\n      }\n    })\n  }\n\n  setEditorContainerNode = (containerNode) => {\n    this.setState({ containerNode }, this.forceRender)\n  }\n\n  render () {\n\n    let {\n      id: editorId, controls, excludeControls, extendControls, disabled, media, language, colors, colorPicker, colorPickerTheme, colorPickerAutoHide, hooks,\n      fontSizes, fontFamilies, emojis, placeholder, imageControls, lineHeights, letterSpacings, textAligns, textBackgroundColor, defaultLinkTarget,\n      extendAtomics, className, style, controlBarClassName, controlBarStyle, contentClassName, contentStyle, stripPastedStyles, componentBelowControlBar\n    } = this.editorProps\n\n    hooks = buildHooks(hooks)\n    controls = controls.filter(item => excludeControls.indexOf(item) === -1)\n    language = (typeof language === 'function' ? language(languages) : languages[language]) || languages[defaultProps.language]\n\n    const externalMedias = media && media.externals ? {\n      ...defaultProps.media.externals,\n      ...media.externals\n    } : defaultProps.media.externals\n\n    const accepts = media && media.accepts ? {\n      ...defaultProps.media.accepts,\n      ...media.accepts\n    } : defaultProps.media.accepts\n\n    media = { ...defaultProps.media, ...media, externalMedias, accepts }\n\n    if (!media.uploadFn) {\n      media.video = false\n      media.audio = false\n    }\n\n    const controlBarProps = {\n      editor: this,\n      editorState: this.state.editorState,\n      braftFinder: this.braftFinder,\n      ref: instance => this.controlBarInstance = instance,\n      containerNode: this.state.containerNode,\n      className: controlBarClassName,\n      style: controlBarStyle,\n      colors: [...colors, ...this.state.tempColors],\n      colorPicker, colorPickerTheme, colorPickerAutoHide, hooks, editorId, media, controls, language, extendControls, fontSizes, fontFamilies,\n      emojis, lineHeights, letterSpacings, textAligns, textBackgroundColor, defaultLinkTarget\n    }\n\n    const { unitExportFn } = this.state.editorState.convertOptions\n\n    const commonProps = {\n      editor: this, editorId, hooks,\n      editorState: this.state.editorState,\n      containerNode: this.state.containerNode,\n      imageControls, language, extendAtomics\n    }\n\n    const blockRendererFn = getBlockRendererFn(commonProps, this.editorProps.blockRendererFn)\n    const blockRenderMap = getBlockRenderMap(commonProps, this.editorProps.blockRenderMap)\n    const blockStyleFn = getBlockStyleFn(this.editorProps.blockStyleFn)\n    const customStyleMap = getCustomStyleMap(commonProps, this.editorProps.customStyleMap)\n    const customStyleFn = getCustomStyleFn(commonProps, { fontFamilies, unitExportFn, customStyleFn: this.editorProps.customStyleFn })\n\n    const keyBindingFn = getKeyBindingFn(this.editorProps.keyBindingFn)\n\n    const draftProps = {\n      ref: instance => { this.draftInstance = instance },\n      editorState: this.state.editorState,\n      handleKeyCommand: this.handleKeyCommand,\n      handleReturn: this.handleReturn,\n      handleBeforeInput: this.handleBeforeInput,\n      handleDrop: this.handleDrop,\n      handleDroppedFiles: this.handleDroppedFiles,\n      handlePastedText: this.handlePastedText,\n      handlePastedFiles: this.handlePastedFiles,\n      onChange: this.onChange,\n      onTab: this.onTab,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      readOnly: disabled,\n      blockRenderMap, blockRendererFn, blockStyleFn,\n      customStyleMap, customStyleFn,\n      keyBindingFn, placeholder, stripPastedStyles,\n      ...this.editorProps.draftProps,\n      ...this.state.draftProps\n    }\n\n    return (\n      <div ref={this.setEditorContainerNode} className={`bf-container ${className} ${(disabled ? 'disabled' : '')}`} style={style}>\n        <ControlBar {...controlBarProps} />\n        {componentBelowControlBar}\n        <div className={`bf-content ${contentClassName}`} style={contentStyle}>\n          <Editor {...draftProps} />\n        </div>\n      </div>\n    )\n\n  }\n\n}","import BraftEditor from './editor'\nimport { EditorState } from 'draft-js'\nimport { convertRawToEditorState, convertHTMLToEditorState, convertEditorStateToRaw, convertEditorStateToHTML } from 'braft-convert'\nimport { createExtensibleEditor, compositeStyleImportFn, compositeEntityImportFn, compositeBlockImportFn } from 'helpers/extension'\nimport { getDecorators } from 'renderers'\n\nEditorState.prototype.setConvertOptions = function (options = {}) {\n  this.convertOptions = options\n}\n\nEditorState.prototype.toHTML = function (options = {}) {\n  const convertOptions = this.convertOptions || {}\n  return convertEditorStateToHTML(this, {...convertOptions, ...options})\n}\n\nEditorState.prototype.toRAW = function (noStringify) {\n  return noStringify ? convertEditorStateToRaw(this) : JSON.stringify(convertEditorStateToRaw(this))\n}\n\nEditorState.prototype.isEmpty = function () {\n  return !this.getCurrentContent().hasText()\n}\n\nBraftEditor.createEditorState = EditorState.createFrom = (content, options = {}) => {\n\n  options.styleImportFn = compositeStyleImportFn(options.styleImportFn, options.editorId)\n  options.entityImportFn = compositeEntityImportFn(options.entityImportFn, options.editorId)\n  options.blockImportFn = compositeBlockImportFn(options.blockImportFn, options.editorId)\n\n  if (typeof content === 'object' && content && content.blocks && content.entityMap) {\n    return convertRawToEditorState(content, getDecorators(options.editorId))\n  } else if (typeof content === 'string') {\n    try {\n      return EditorState.createFrom(JSON.parse(content), options)\n    } catch (error) {\n      return convertHTMLToEditorState(content, getDecorators(options.editorId), options, 'create')\n    }\n  } else {\n    return EditorState.createEmpty(getDecorators(options.editorId))\n  }\n\n}\n\nexport default createExtensibleEditor(BraftEditor)\nexport { EditorState, getDecorators }\n\n// 2.1版本开发计划\n// [ ]增强扩展性\n// [ ]完成font-size等样式的全量支持\n// [ ]支持无限制取色器\n// [ ]支持替换内置控件\n// [ ]允许自定义快捷键\n\n// 2.2版本开发计划\n// [ ]支持非媒体类附件\n// [ ]优化全选会选择上传中的项目的问题\n// [ ]支持param.success时设置媒体文件的更多属性（尺寸、图片链接等）\n// [ ]简化上传配置流程\n// [ ]支持媒体库组件的更多个性化配置（placeholder等）\n// [ ]优化HTML格式无法存储媒体名称的问题 \n\n// 2.3版本开发计划\n// [ ]优化换行与空格\n// [ ]支持自定义Atomic组件\n// [ ]图片裁切等简单的编辑功能\n// [ ]初级表格功能\n\n// 2.4版本开发计划\n// [ ]美化UI，包括图标和界面风格","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin"],"sourceRoot":""}